---
sidebar_label: –†–µ–π—Ç–∏–Ω–≥–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤
description: –ü–∞—Ä—Å–∏–Ω–≥ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö (—Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏ –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö) —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤
---

# –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤

–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö ¬´~~–ø~~–≤—É–∑–æ–º–µ—Ä–æ–∫¬ª ‚Äî –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤. –ï—Å—Ç—å üá∑üá∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ, –µ—Å—Ç—å –∑–∞—Ä—É–±–µ–∂–Ω—ã–µ. –í –¥–∞–Ω–Ω–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–µ —Å–æ–±—Ä–∞–Ω—ã üë®‚Äçüç≥ ¬´—Ä–µ—Ü–µ–ø—Ç—ã¬ª –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤:

1. [–ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ ‚Äî —Ç—Ä–∏ –º–∏—Å—Å–∏–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞](https://mosiur.org/)
1. [–†–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å–∞](https://academia.interfax.ru/ru/ratings/?rating=1&year=2023&page=1)
1. [RAEX –¢–û–ü 100](https://raex-rr.com/education/russian_universities/top-100_universities/2023/)
1. [–®–∞–Ω—Ö–∞–π—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤](https://www.shanghairanking.com/rankings/arwu/2022), –≤ —Ç.—á. –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º
1. [–†–µ–π—Ç–∏–Ω–≥ Best Global Universities](https://www.usnews.com/education/best-global-universities/rankings), –≤ —Ç.—á. –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º
1. [–†–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –æ—Ç Times Higher Education](https://www.timeshighereducation.com/world-university-rankings/2023/world-ranking)
1. QS-—Ä–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤, –≤ —Ç.—á. –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º

–†–µ–π—Ç–∏–Ω–≥–∏ –≤—ã—Ö–æ–¥—è—Ç (–æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è) –≤ —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞. –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (–∏—é–ª—å 2023 –≥.), –º–Ω–æ–≥–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –≤–∫–ª—é—á–∞–ª–∏ 2023 –≥–æ–¥ (–≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `years`, –µ—Å–ª–∏ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ).

## –ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤

```python showLineNumbers title="–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"
import time
import requests
import pandas as pd
from bs4 import BeautifulSoup
```


```python showLineNumbers title="–ü–∞—Ä—Å–∏–º –¥–∞–Ω–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∞"
years = list(range(2020, 2022 + 1))
msk_data = []

for y in years:
    # –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ url (–ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö)
    msk_url = f"https://mosiur.org/{'ranking' if y == 2022 else 'ranking' + str(y)}/"
    msk_resp = requests.get(msk_url)

    if msk_resp.status_code == 200:
        msk_soup = BeautifulSoup(msk_resp.text)

        for tr in msk_soup.select('#top_table tbody tr'):
            tds = tr.find_all('td')
            msk_data.append({
                'year': y,
                'rank': tds[0].text,
                'university': tds[1].text,
                'country': tds[2].text
            })
    else:
        print(f"{msk_url} return status code {msk_resp.status_code}")

    # –ë–µ—Ä–µ–∂—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
    time.sleep(1)

msk_df = pd.DataFrame(msk_data)
msk_df.to_csv(f"data/msk_{min(years)}-{max(years)}.csv", index=False)
msk_df.to_excel(f"data/msk_{min(years)}-{max(years)}.xlsx", index=False)
msk_df.head(5)
```

<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>rank</th>
      <th>university</th>
      <th>country</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020</td>
      <td>1</td>
      <td>Harvard University</td>
      <td>–°–®–ê</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020</td>
      <td>2</td>
      <td>Massachusetts Institute of Technology</td>
      <td>–°–®–ê</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020</td>
      <td>3</td>
      <td>University of Cambridge</td>
      <td>–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020</td>
      <td>4</td>
      <td>University of Oxford</td>
      <td>–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020</td>
      <td>5</td>
      <td>University of Pennsylvania</td>
      <td>–°–®–ê</td>
    </tr>
  </tbody>
</table>
</div>


–î–∞–Ω–Ω—ã–µ ¬´–ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞¬ª –ø–æ–ª—É—á–µ–Ω—ã. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω –ø–æ –≥–æ–¥–∞–º (–¢–û–ü 10).


```python showLineNumbers title="–°—Ç—Ä–æ–∏–º —Å–≤–æ–¥–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –∏ –≤—ã–≤–æ–¥–∏–º –¢–û–ü 10"
msk_pivot = pd.pivot_table(
    msk_df,
    index='country',
    columns='year',
    values='university',
    aggfunc='count'
)
msk_pivot['sum'] = msk_pivot.sum(axis=1)
msk_pivot.sort_values(by='sum', ascending=False).head(10)
```

<div>
<table class="dataframe">
  <thead>
    <tr>
      <th>year</th>
      <th>2020</th>
      <th>2021</th>
      <th>2022</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>country</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>–°–®–ê</th>
      <td>220.0</td>
      <td>239.0</td>
      <td>253.0</td>
      <td>712.0</td>
    </tr>
    <tr>
      <th>–ö–∏—Ç–∞–π</th>
      <td>122.0</td>
      <td>144.0</td>
      <td>173.0</td>
      <td>439.0</td>
    </tr>
    <tr>
      <th>–†–æ—Å—Å–∏—è</th>
      <td>101.0</td>
      <td>112.0</td>
      <td>146.0</td>
      <td>359.0</td>
    </tr>
    <tr>
      <th>–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è</th>
      <td>98.0</td>
      <td>106.0</td>
      <td>108.0</td>
      <td>312.0</td>
    </tr>
    <tr>
      <th>–Ø–ø–æ–Ω–∏—è</th>
      <td>93.0</td>
      <td>102.0</td>
      <td>101.0</td>
      <td>296.0</td>
    </tr>
    <tr>
      <th>–ì–µ—Ä–º–∞–Ω–∏—è</th>
      <td>69.0</td>
      <td>73.0</td>
      <td>74.0</td>
      <td>216.0</td>
    </tr>
    <tr>
      <th>–ò—Ç–∞–ª–∏—è</th>
      <td>50.0</td>
      <td>54.0</td>
      <td>54.0</td>
      <td>158.0</td>
    </tr>
    <tr>
      <th>–ò–Ω–¥–∏—è</th>
      <td>45.0</td>
      <td>51.0</td>
      <td>58.0</td>
      <td>154.0</td>
    </tr>
    <tr>
      <th>–ò—Å–ø–∞–Ω–∏—è</th>
      <td>42.0</td>
      <td>55.0</td>
      <td>56.0</td>
      <td>153.0</td>
    </tr>
    <tr>
      <th>–§—Ä–∞–Ω—Ü–∏—è</th>
      <td>40.0</td>
      <td>45.0</td>
      <td>54.0</td>
      <td>139.0</td>
    </tr>
  </tbody>
</table>
</div>


## –†–µ–π—Ç–∏–Ω–≥ –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å–∞

```python showLineNumbers title="–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"
import time
import requests
import pandas as pd
```

```python showLineNumbers title="–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö"
def get_interfax_list_by_year(year, page=1):
    url = f"https://academia.interfax.ru/data/rating/?rating=1&year={year}&page={page}"
    result = []
    resp = requests.get(url)

    # –ë–µ—Ä–µ–∂—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
    time.sleep(1)

    if resp.status_code == 200:
        json_data = resp.json()
        result += json_data['universities']
        page_count = json_data['page_count']

        if page != page_count:
            result += get_interfax_list_by_year(year, page + 1)
    else:
        print(f"{url} return status code {resp.status_code}")

    return result
```


```python showLineNumbers title="–ü–∞—Ä—Å–∏–º –¥–∞–Ω–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∞"
years = list(range(2020, 2023 + 1))
interfax_df = pd.DataFrame()

for y in years:
    interfax_df_by_year = pd.DataFrame(get_interfax_list_by_year(y))
    interfax_df_by_year['year'] = y
    interfax_df = pd.concat([interfax_df, interfax_df_by_year], ignore_index=True)

interfax_df.to_csv(f"data/interfax_{min(years)}-{max(years)}.csv", index=False)
interfax_df.to_excel(f"data/interfax_{min(years)}-{max(years)}.xlsx", index=False)
interfax_df.head()
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>change</th>
      <th>description</th>
      <th>is_close</th>
      <th>point</th>
      <th>rank</th>
      <th>name</th>
      <th>id</th>
      <th>url</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>None</td>
      <td>False</td>
      <td>1000</td>
      <td>1</td>
      <td>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ú...</td>
      <td>1</td>
      <td>https://www.msu.ru</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>None</td>
      <td>False</td>
      <td>963</td>
      <td>2</td>
      <td>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —è–¥–µ—Ä–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å...</td>
      <td>2</td>
      <td>https://mephi.ru</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>None</td>
      <td>False</td>
      <td>961</td>
      <td>3</td>
      <td>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ñ–∏–∑–∏–∫–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç (–Ω–∞—Ü–∏–æ–Ω...</td>
      <td>4</td>
      <td>https://mipt.ru</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>None</td>
      <td>False</td>
      <td>857</td>
      <td>4</td>
      <td>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–í—ã...</td>
      <td>6</td>
      <td>https://www.hse.ru</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>None</td>
      <td>False</td>
      <td>848</td>
      <td>5</td>
      <td>–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≥...</td>
      <td>3</td>
      <td>http://www.nsu.ru/?lang=ru</td>
      <td>2020</td>
    </tr>
  </tbody>
</table>
</div>


–í –¥–∞–Ω–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–∞ –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å–∞ —É–∂–µ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ –¥–≤–∏–∂–µ–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö —Ä–µ–π—Ç–∏–Ω–≥–∞. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –¢–û–ü 10 —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–Ω—è–ª–∏—Å—å –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≥–æ–¥–∞ –±–æ–ª—å—à–µ –≤—Å–µ—Ö.


```python showLineNumbers title="–°—Ç—Ä–æ–∏–º —Å–≤–æ–¥–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –∏ –≤—ã–≤–æ–¥–∏–º –¢–û–ü 10"
interfax_pivot = pd.pivot_table(
    interfax_df,
    index='name',
    columns='year',
    values='change',
    aggfunc='sum'
)
interfax_pivot['sum'] = interfax_pivot.sum(axis=1)
interfax_pivot.sort_values(by='sum', ascending=False).head(10)
```

<div>
<table class="dataframe">
  <thead>
    <tr>
      <th>year</th>
      <th>2020</th>
      <th>2021</th>
      <th>2022</th>
      <th>2023</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –°–∏–Ω–µ—Ä–≥–∏—è</th>
      <td>-1.0</td>
      <td>78.0</td>
      <td>43.0</td>
      <td>44.0</td>
      <td>164.0</td>
    </tr>
    <tr>
      <th>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç –ø—Å–∏—Ö–æ–∞–Ω–∞–ª–∏–∑–∞</th>
      <td>-8.0</td>
      <td>3.0</td>
      <td>128.0</td>
      <td>25.0</td>
      <td>148.0</td>
    </tr>
    <tr>
      <th>–ß–µ—á–µ–Ω—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ê.–ê.–ö–∞–¥—ã—Ä–æ–≤–∞</th>
      <td>-22.0</td>
      <td>83.0</td>
      <td>58.0</td>
      <td>14.0</td>
      <td>133.0</td>
    </tr>
    <tr>
      <th>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Å–∏—Ö–æ–ª–æ–≥–æ-–ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>15.0</td>
      <td>78.0</td>
      <td>18.0</td>
      <td>12.0</td>
      <td>123.0</td>
    </tr>
    <tr>
      <th>–£—Ä–∞–ª—å—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–≥—Ä–∞—Ä–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>-21.0</td>
      <td>40.0</td>
      <td>104.0</td>
      <td>-4.0</td>
      <td>119.0</td>
    </tr>
    <tr>
      <th>–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–≥—Ä–∞—Ä–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>-1.0</td>
      <td>-12.0</td>
      <td>122.0</td>
      <td>3.0</td>
      <td>112.0</td>
    </tr>
    <tr>
      <th>–£—Ä–∞–ª—å—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–æ—Ä–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>25.0</td>
      <td>17.0</td>
      <td>21.0</td>
      <td>48.0</td>
      <td>111.0</td>
    </tr>
    <tr>
      <th>–ö–∏—Ä–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>25.0</td>
      <td>12.0</td>
      <td>31.0</td>
      <td>40.0</td>
      <td>108.0</td>
    </tr>
    <tr>
      <th>–ö—É–±–∞–Ω—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>24.0</td>
      <td>18.0</td>
      <td>61.0</td>
      <td>-9.0</td>
      <td>94.0</td>
    </tr>
    <tr>
      <th>–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –ø—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è (–ú–ì–û–£)</th>
      <td>5.0</td>
      <td>28.0</td>
      <td>51.0</td>
      <td>1.0</td>
      <td>85.0</td>
    </tr>
  </tbody>
</table>
</div>


## RAEX –¢–û–ü 100

```python showLineNumbers title="–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"
import re
import time
import requests
import numpy as np
import pandas as pd
from bs4 import BeautifulSoup
```


```python showLineNumbers title="–ü–∞—Ä—Å–∏–º –¥–∞–Ω–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∞"
years = list(range(2020, 2023 + 1))
raex_list = []

for y in years:
    raex_url = f"https://raex-rr.com/pro/education/russian_universities/top-100_universities/{y}/"
    raex_resp = requests.get(raex_url)

    if raex_resp.status_code == 200:
        raex_soup = BeautifulSoup(raex_resp.text)
        raex_trs = raex_soup.select('#rrp_table_wrapper > table > tbody.list > tr')

        for i, tr in enumerate(raex_trs):
            th = tr.findChildren('th', recursive=False)
            td = tr.findChildren('td', recursive=False)

            raex_list.append({
                'year': y,
                'rank': int(th[0].text),
                'title': re.sub(r'[\s\n]+', ' ', th[1].text).strip(),
                'previous': float(td[0].text) if td[0].text != '-' else np.NaN,
                'points': float(td[1].text),
                'quality': int(td[2].text),
                'graduates': int(td[3].text),
                'science': int(td[4].text)
            })
    else:
        print(f"{raex_url} return status code {raex_resp.status_code}")

    # –ë–µ—Ä–µ–∂—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
    time.sleep(1)

raex_df = pd.DataFrame(raex_list)
raex_df.to_csv(f"data/raex_{min(years)}-{max(years)}.csv", index=False)
raex_df.to_excel(f"data/raex_{min(years)}-{max(years)}.xlsx", index=False)
raex_df.head()
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>rank</th>
      <th>title</th>
      <th>previous</th>
      <th>points</th>
      <th>quality</th>
      <th>graduates</th>
      <th>science</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020</td>
      <td>1</td>
      <td>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ú...</td>
      <td>1.0</td>
      <td>4.8419</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020</td>
      <td>2</td>
      <td>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ñ–∏–∑–∏–∫–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç (–Ω–∞—Ü–∏–æ–Ω...</td>
      <td>2.0</td>
      <td>4.7734</td>
      <td>2</td>
      <td>7</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020</td>
      <td>3</td>
      <td>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —è–¥–µ—Ä–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å...</td>
      <td>3.0</td>
      <td>4.5535</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020</td>
      <td>4</td>
      <td>–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</td>
      <td>4.0</td>
      <td>4.5394</td>
      <td>3</td>
      <td>12</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020</td>
      <td>5</td>
      <td>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç "–í—ã...</td>
      <td>5.0</td>
      <td>4.4933</td>
      <td>6</td>
      <td>2</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>


–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤, –≤ –¥–∞–Ω–Ω–æ–º —Ä–µ–π—Ç–∏–Ω–≥–µ –∫–∞–∂–¥–æ–º—É —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—É –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –¢–û–ü 10 –ª–∏–¥–µ—Ä–æ–≤ –ø–æ —Å—Ä–µ–¥–Ω–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ –∑–∞ —Å–∫–∞—á–∞–Ω–Ω—ã–µ –≥–æ–¥–∞.


```python showLineNumbers title="–í—ã—á–∏—Å–ª—è–µ–º –¢–û–ü 10 –ø–æ —Å—Ä–µ–¥–Ω–µ–π –ø–æ–∑–∏—Ü–∏–∏"
raex_df[['title', 'rank']].groupby(by='title').mean().sort_values(by='rank').head(10)
```

<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>rank</th>
    </tr>
    <tr>
      <th>title</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ú.–í. –õ–æ–º–æ–Ω–æ—Å–æ–≤–∞</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ñ–∏–∑–∏–∫–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç (–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç)</th>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —è–¥–µ—Ä–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–ú–ò–§–ò¬ª</th>
      <td>3.500000</td>
    </tr>
    <tr>
      <th>–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>3.500000</td>
    </tr>
    <tr>
      <th>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç "–í—ã—Å—à–∞—è —à–∫–æ–ª–∞ —ç–∫–æ–Ω–æ–º–∏–∫–∏"</th>
      <td>5.250000</td>
    </tr>
    <tr>
      <th>–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ù.–≠. –ë–∞—É–º–∞–Ω–∞ (–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç)</th>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>–ú–ì–ò–ú–û –ú–ò–î –†–æ—Å—Å–∏–∏</th>
      <td>6.750000</td>
    </tr>
    <tr>
      <th>–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –ø–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –ü–µ—Ç—Ä–∞ –í–µ–ª–∏–∫–æ–≥–æ</th>
      <td>8.250000</td>
    </tr>
    <tr>
      <th>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –¢–æ–º—Å–∫–∏–π –ø–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>8.666667</td>
    </tr>
    <tr>
      <th>–¢–æ–º—Å–∫–∏–π –ø–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</th>
      <td>9.000000</td>
    </tr>
  </tbody>
</table>
</div>


**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ** –Ω–∞ —Ç–æ, —á—Ç–æ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ RAEX ¬´–±–æ–≥–∞—Ç–æ¬ª –Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥–∏ (–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ [—Ç—É—Ç](https://raex-rr.com/all_rankings/)). –î–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥—Ä—É–≥–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤, –º–µ—Ö–∞–Ω–∏–∫–∏ –±—É–¥—É—Ç +/- –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ.


## –®–∞–Ω—Ö–∞–π—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤


```python showLineNumbers title="–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"
import os
import re
import json
import time
import js2py
import requests
import pandas as pd
```

### –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥


```python showLineNumbers title="–ó–∞–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∞"
url_ranking = 'https://www.shanghairanking.com/api/pub/v1/inst'
resp_ranking = requests.get(url_ranking)
ranking = pd.DataFrame()

if resp_ranking.status_code == 200:
    json_data = resp_ranking.json()
    ranking = pd.json_normalize(json_data['data'])
else:
    print(f"{url_ranking} return status code {resp_ranking.status_code}")

ranking.to_csv('data/shanghai.csv', index=False)
ranking.to_excel('data/shanghai.xlsx', index=False)
ranking.head()
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>nameEn</th>
      <th>univLogo</th>
      <th>univUp</th>
      <th>region</th>
      <th>rankingInfo</th>
      <th>ranking</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Harvard University</td>
      <td>logo/032bd1b77.png</td>
      <td>harvard-university</td>
      <td>United States</td>
      <td>ARWU 2022</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Stanford University</td>
      <td>logo/13de8913b.png</td>
      <td>stanford-university</td>
      <td>United States</td>
      <td>ARWU 2022</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Massachusetts Institute of Technology (MIT)</td>
      <td>logo/79165fd8b.png</td>
      <td>massachusetts-institute-of-technology-mit</td>
      <td>United States</td>
      <td>ARWU 2022</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>University of Cambridge</td>
      <td>logo/8d9861b69.png</td>
      <td>university-of-cambridge</td>
      <td>United Kingdom</td>
      <td>ARWU 2022</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>University of California, Berkeley</td>
      <td>logo/0ff179fb8.png</td>
      <td>university-of-california-berkeley</td>
      <td>United States</td>
      <td>ARWU 2022</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>


–ü–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –º–Ω–æ–≥–æ –∏ –º–æ–∂–Ω–æ, –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¢–û–ü 10 üá∑üá∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ.


```python showLineNumbers title="–í—ã–≤–æ–¥–∏–º –¢–û–ü 10 —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤"
ranking[ranking['region'] == 'Russia'][['nameEn', 'ranking']].head(10)
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>nameEn</th>
      <th>ranking</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>114</th>
      <td>Moscow State University</td>
      <td>101-150</td>
    </tr>
    <tr>
      <th>347</th>
      <td>Saint Petersburg State University</td>
      <td>301-400</td>
    </tr>
    <tr>
      <th>529</th>
      <td>Moscow Institute of Physics and Technology</td>
      <td>501-600</td>
    </tr>
    <tr>
      <th>626</th>
      <td>HSE University</td>
      <td>601-700</td>
    </tr>
    <tr>
      <th>654</th>
      <td>Sechenov University</td>
      <td>601-700</td>
    </tr>
    <tr>
      <th>742</th>
      <td>Novosibirsk State University</td>
      <td>701-800</td>
    </tr>
    <tr>
      <th>753</th>
      <td>Skolkovo Institute of Science and Technology</td>
      <td>701-800</td>
    </tr>
    <tr>
      <th>761</th>
      <td>Tomsk State University</td>
      <td>701-800</td>
    </tr>
    <tr>
      <th>797</th>
      <td>Ural Federal University</td>
      <td>701-800</td>
    </tr>
    <tr>
      <th>847</th>
      <td>National Research Nuclear University MEPhI (Mo...</td>
      <td>801-900</td>
    </tr>
  </tbody>
</table>
</div>

### –ü—Ä–µ–¥–º–µ—Ç–Ω—ã–µ –∏ —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–∞


–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–º —Ä–µ–π—Ç–∏–Ω–≥–∞–º, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–æ–π—Ç–∏ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ. –°—Ç—Ä–∞–Ω–∏—Ü –º–Ω–æ–≥–æ (–±–æ–ª–µ–µ 3 —Ç—ã—Å.), –ø–æ—ç—Ç–æ–º—É –∑–∞–ø–∞—Å–∞–µ–º—Å—è —Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∏ –∂–¥—ë–º, –ø–µ—Ä–µ–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `data/downloads/shanghai`.


```python showLineNumbers title="–°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞–º"
data_folder = 'data/downloads/shanghai'

for i, r in ranking.iterrows():
    file_path = f"{data_folder}/{i+1}.json"

    if not os.path.isfile(file_path):
        university_path = r['univUp']
        university_url = f'https://www.shanghairanking.com/institution/{university_path}'
        html_resp = requests.get(university_url)

        if html_resp.status_code == 200:
            html = html_resp.text
            reg = f"\/_nuxt\/static\/\d+\/institution\/{university_path}\/payload\.js"
            payload = re.search(f"/_nuxt/static/\d+/institution/{university_path}/payload\.js", html)[0]
            university_id = payload.replace('/_nuxt/static/', '').replace(f"/{university_path}/institution/payload.js", '')
            js_url = f"https://www.shanghairanking.com/{payload}"
            js_resp = requests.get(js_url)

            if js_resp.status_code == 200:
                js_data = js_resp.text
                js_data = js2py.eval_js(js_data.replace(f'__NUXT_JSONP__("/institution/{university_path}", ', '')[:-2])
                university_data = js_data.data[0].univData.to_dict()

                with open(file_path, 'w') as f:
                    f.write(json.dumps(university_data, ensure_ascii=False, indent=4))
            else:
                print(f"{university_url} return status code {html_resp.status_code}")
        else:
            print(f"{university_url} return status code {html_resp.status_code}")

        # –ë–µ—Ä–µ–∂—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
        time.sleep(0.5)
```

–ö–∞–∂–¥—ã–π —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö, —á–µ–º –ø—Ä–æ—Å—Ç–æ –ø–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ. –î–ª—è –ø—Ä–∏–º–µ—Ä–∞, –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞.


```python showLineNumbers title="–í—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –ú–ì–£"
example = json.load(open(f"{data_folder}/493.json", 'r'))
example
```
```json showLineNumbers title="–î–∞–Ω–Ω—ã–µ –ú–ì–£"
{
    "address": "Moskovskij Gosudarstvennyj Universitet im. M.V. Lomonosova, Leninskie Gory, Moscow 119992, Russian Federation",
    "detail": {
        "arwu": {
            "datasetId": 1,
            "intro": "The Academic Ranking of World Universities (ARWU) was first published in June 2003 by the Center for World-Class Universities (CWCU), Graduate School of Education (formerly the Institute of Higher Education) of Shanghai Jiao Tong University, China, and updated on an annual basis. Since 2009 the Academic Ranking of World Universities (ARWU) has been published and copyrighted by ShanghaiRanking Consultancy. ShanghaiRanking Consultancy is a fully independent organization on higher education intelligence and not legally subordinated to any universities or government agencies. ARWU uses six objective indicators to rank world universities, including the number of alumni and staff winning Nobel Prizes and Fields Medals, number of highly cited researchers selected by Clarivate, number of articles published in journals of Nature and Science, number of articles indexed in Science Citation Index Expanded‚Ñ¢ and Social Sciences Citation Index‚Ñ¢ in the Web of Science‚Ñ¢, and per capita performance of a university. More than 2500 universities are actually ranked by ARWU every year and the best 1000 are published.",
            "latestVerNo": 2022,
            "nameId": "ARWU",
            "rkHistory": [
                {"ranking": "93", "yr": 2020},
                {"ranking": "97", "yr": 2021},
                {"ranking": "101-150", "yr": 2022}
            ],
            "rkLatest": {"name": "Academic Ranking of World Universities", "ranking": "101-150"}
        },
        "bcur": null,
        "gras": {
            "latestVerNo": 2022,
            "nameId": "GRAS",
            "subjAdva": [
                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0102", "name": "Physics", "ranking": "76-100"},
                {"categoryCode": "RS02", "categoryNameShort": "ENG", "code": "RS0207", "name": "Instruments Science & Technology", "ranking": "201-300"},
                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0101", "name": "Mathematics", "ranking": "301-400"},
                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0103", "name": "Chemistry", "ranking": "301-400"},
                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0106", "name": "Ecology", "ranking": "301-400"},
                {"categoryCode": "RS02", "categoryNameShort": "ENG", "code": "RS0214", "name": "Nanoscience & Nanotechnology", "ranking": "301-400"},
                {"categoryCode": "RS02", "categoryNameShort": "ENG", "code": "RS0220", "name": "Biotechnology", "ranking": "401-500"},
                {"categoryCode": "RS04", "categoryNameShort": "MED", "code": "RS0401", "name": "Clinical Medicine", "ranking": "401-500"}
            ],
            "subjCategory": [
                {
                    "code": "RS01",
                    "name": "Natural Sciences",
                    "nameShort": "SCI",
                    "subj": [
                        {"code": "RS0101", "name": "Mathematics", "ranking": "301-400"},
                        {"code": "RS0102", "name": "Physics", "ranking": "76-100"},
                        {"code": "RS0103", "name": "Chemistry", "ranking": "301-400"},
                        {"code": "RS0106", "name": "Ecology", "ranking": "301-400"}
                    ]
                },
                {
                    "code": "RS02",
                    "name": "Engineering\n",
                    "nameShort": "ENG",
                    "subj": [
                        {"code": "RS0207", "name": "Instruments Science & Technology", "ranking": "201-300"},
                        {"code": "RS0214", "name": "Nanoscience & Nanotechnology", "ranking": "301-400"},
                        {"code": "RS0220", "name": "Biotechnology", "ranking": "401-500"}
                    ]
                },
                {
                    "code": "RS04",
                    "name": "Medical Sciences",
                    "nameShort": "MED",
                    "subj": [
                        {"code": "RS0401", "name": "Clinical Medicine", "ranking": "401-500"
                        }
                    ]
                }
            ]
        }
    },
    "foundYear": 1755,
    "introEn": "",
    "nameEn": "Moscow State University",
    "programs": [],
    "ranking": "101-150",
    "rankingInfo": "ARWU 2022",
    "region": "Russia",
    "regionDetail": "Eastern Europe",
    "studentsStatis": [
        [
            {"nameEn": "Total Enrollment", "ratio": "", "value": "29235"},
            {"nameEn": "International Students", "ratio": "29.0%","value": ""}
        ],
        [
            {"nameEn": "Undergraduate Enrollment", "ratio": "", "value": ""},
            {"nameEn": "International Students", "ratio": "", "value": ""}
        ],
        [
            {"nameEn": "Graduate Enrollment", "ratio": "", "value": ""},
            {"nameEn": "International Students", "ratio": "", "value": ""}
        ]
    ],
    "univLogo": "logo/98123a275.png",
    "univUp": "moscow-state-university",
    "website": "http://www.msu.ru"
}
```

–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –≤–æ–∑—å–º—ë–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–æ–π –ø–æ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É –∏ –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏.


```python showLineNumbers title="–°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–µ –∏ –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–º —Ä–µ–π—Ç–∏–Ω–≥–∞–º"
file_numbers = sorted(list([int(x.replace('.json', '')) for x in os.listdir(data_folder)]))
rating_retro = pd.DataFrame()
rating_subject = pd.DataFrame()

for fn in file_numbers:
    file_path = f"{data_folder}/{fn}.json"
    json_data = json.load(open(file_path, 'r'))

    try:
        if json_data['detail']['arwu'] and 'rkHistory' in json_data['detail']['arwu'].keys():
            chunk_retro = pd.json_normalize(json_data['detail']['arwu']['rkHistory'])
            chunk_retro['nameEn'], chunk_retro['region']  = json_data['nameEn'], json_data['region']
            rating_retro = pd.concat([rating_retro, chunk_retro], ignore_index=True)

        if json_data['detail']['gras']['subjAdva']:
            chunk_subject = pd.json_normalize(json_data['detail']['gras']['subjAdva'])
            chunk_subject['nameEn'], chunk_subject['region'] = json_data['nameEn'], json_data['region']
            rating_subject = pd.concat([rating_subject, chunk_subject], ignore_index=True)
    except Exception as e:
        print(file_path, json_data['detail']['gras']['rkHistory'], json_data['detail']['gras']['subjAdva'])

retro_years = list(rating_retro['yr'].unique())
rating_retro.to_csv(f"data/shanghai_retro_{min(retro_years)}-{max(retro_years)}.csv", index=False)
rating_retro.to_excel(f"data/shanghai_retro_{min(retro_years)}-{max(retro_years)}.xlsx", index=False)
rating_subject.to_csv('data/shanghai_subject.csv', index=False)
rating_retro.to_excel('data/shanghai_subject.xlsx', index=False)
```

–í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–µ, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –ø–æ –≥–æ–¥–∞–º.


```python showLineNumbers title="–í—ã–≤–æ–¥–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≥–æ–¥–∞–º"
rating_retro[rating_retro['region'] == 'Russia'][['yr', 'nameEn']].\
    groupby(by='yr').count().rename(columns={'nameEn': 'count'})
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
    </tr>
    <tr>
      <th>yr</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020</th>
      <td>13</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>13</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>13</td>
    </tr>
  </tbody>
</table>
</div>


–í –ø—Ä–µ–¥–º–µ—Ç–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö –≤—ã–¥–µ–ª–∏–º —Å–∞–º—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞–º–∏ üá∑üá∫ –†–æ—Å—Å–∏–∏.


```python showLineNumbers title="–í—ã–≤–æ–¥–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º"
rating_subject[rating_subject['region'] == 'Russia'][['name', 'nameEn']].\
    groupby(by='name').count().rename(columns={'nameEn': 'count'}).\
    sort_values(by='count', ascending=False).head(10)
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Physics</th>
      <td>6</td>
    </tr>
    <tr>
      <th>Metallurgical Engineering</th>
      <td>6</td>
    </tr>
    <tr>
      <th>Biological Sciences</th>
      <td>4</td>
    </tr>
    <tr>
      <th>Nanoscience &amp; Nanotechnology</th>
      <td>4</td>
    </tr>
    <tr>
      <th>Mathematics</th>
      <td>4</td>
    </tr>
    <tr>
      <th>Materials Science &amp; Engineering</th>
      <td>3</td>
    </tr>
    <tr>
      <th>Agricultural Sciences</th>
      <td>2</td>
    </tr>
    <tr>
      <th>Economics</th>
      <td>2</td>
    </tr>
    <tr>
      <th>Pharmacy &amp; Pharmaceutical Sciences</th>
      <td>2</td>
    </tr>
    <tr>
      <th>Mechanical Engineering</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>


## Best Global Universities

```python showLineNumbers title="–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"
import os
import json
import time
import requests
import numpy as np
import pandas as pd
from bs4 import BeautifulSoup
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞**, —á—Ç–æ –Ω–∞ —Å–∞–π—Ç–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–∞. –ü–∞—Ä—Å–∏—Ç—å –±—É–¥–µ–º —á—Ç–æ –µ—Å—Ç—å –≤ —Å–µ–π—á–∞—Å –Ω–∞ —Å–∞–π—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥ 2022-2023).

–î–ª—è –Ω–∞—á–∞–ª–∞ —Å—Ç–∞–Ω–µ–º –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞ –±—Ä–∞—É–∑–µ—Ä.


```python showLineNumbers title="–°–æ–∑–¥–∞—ë–º —Å–µ—Å—Å–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∞–π—Ç–æ–º"
session = requests.session()
session.headers.update({
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ru',
    'cache-control': 'no-cache',
    'pragma': 'no-cache',
    'sec-ch-ua': '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Linux"',
    'sec-fetch-dest': 'document',
    'sec-fetch-mode': 'navigate',
    'sec-fetch-site': 'none',
    'sec-fetch-user': '?1',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36'
})
```

### –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥


```python showLineNumbers title="–°–±–æ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±—â–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞"
data_list = []
url_tpl = 'https://www.usnews.com/education/best-global-universities/search?format=json&page='
url_first = url_tpl + '1'
resp_first = session.get(url_first)

if resp_first.status_code == 200:
    data_first = resp_first.json()
    total_pages = data_first['total_pages']
    data_list += data_first['items']

    for page_number in range(2, total_pages  + 1):
        url = url_tpl + str(page_number)
        resp = session.get(url)

        if resp.status_code == 200:
            json_data = resp.json()
            data_list += json_data['items']
        else:
            print(f"{url} return status code {resp.status_code}")

        # –ë–µ—Ä–µ–∂—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
        time.sleep(1)
else:
    print(f"{url_first} return status code {resp_first.status_code}")

ranking = pd.DataFrame(data_list)
ranking.head()
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>url</th>
      <th>id</th>
      <th>name</th>
      <th>city</th>
      <th>country_name</th>
      <th>three_digit_country_code</th>
      <th>ranks</th>
      <th>stats</th>
      <th>image_url</th>
      <th>blurb</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>166027</td>
      <td>Harvard University</td>
      <td>Cambridge (U.S.)</td>
      <td>United States</td>
      <td>USA</td>
      <td>&#91;&#123;'value': '1', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '100.0', 'label': 'Global Score'&#125;, ...</td>
      <td>&#123;'src': 'https://www.usnews.com/object/image/0...</td>
      <td>Founded in 1636, Harvard University is the old...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>166683</td>
      <td>Massachusetts Institute of Technology (MIT)</td>
      <td>Cambridge (U.S.)</td>
      <td>United States</td>
      <td>USA</td>
      <td>&#91;&#123;'value': '2', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '97.7', 'label': 'Global Score'&#125;, &#123;...</td>
      <td>&#123;'src': 'https://www.usnews.com/object/image/0...</td>
      <td>Massachusetts Institute of Technology, founded...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>243744</td>
      <td>Stanford University</td>
      <td>Stanford</td>
      <td>United States</td>
      <td>USA</td>
      <td>&#91;&#123;'value': '3', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '95.2', 'label': 'Global Score'&#125;, &#123;...</td>
      <td>&#123;'src': 'https://www.usnews.com/object/image/0...</td>
      <td>Stanford University was founded in 1885 and is...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>110635</td>
      <td>University of California Berkeley</td>
      <td>Berkeley</td>
      <td>United States</td>
      <td>USA</td>
      <td>&#91;&#123;'value': '4', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '88.7', 'label': 'Global Score'&#125;, &#123;...</td>
      <td>&#123;'src': 'https://www.usnews.com/object/image/0...</td>
      <td>The University of California‚ÄîBerkeley is situa...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>503637</td>
      <td>University of Oxford</td>
      <td>Oxford</td>
      <td>United Kingdom</td>
      <td>GBR</td>
      <td>&#91;&#123;'value': '5', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '86.8', 'label': 'Global Score'&#125;, &#123;...</td>
      <td>&#123;'src': 'https://www.usnews.com/object/image/0...</td>
      <td>The exact date of the University of Oxford‚Äôs f...</td>
    </tr>
  </tbody>
</table>
</div>



–í—ã—Ç–∞—â–∏–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ `ranks` –∏ —Å–æ—Ö—Ä–∞–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∞ –¥–∞–ª–µ–µ –≤—ã—Å—Ç—Ä–æ–∏–º, –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ —Å—Ç—Ä–∞–Ω –ø–æ –º–µ–¥–∏–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ (–ø–æ—Å–º–æ—Ç—Ä–∏–º –¢–û–ü 10).


```python showLineNumbers title="–ü—Ä–∏–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ—Ä—è–¥–æ–∫ –∏ –≤—ã–≤–æ–¥–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å—Ç—Ä–∞–Ω–∞–º"
for i, r in ranking.iterrows():
    rank_value = r['ranks'][0]['value']

    ranking.loc[i, 'ranks.value'] = np.NaN if rank_value == 'Unranked' else int(rank_value.replace(',', ''))
    ranking.loc[i, 'ranks.is_tied'] = r['ranks'][0]['is_tied']
    ranking.loc[i, 'ranks.is_ranked'] = r['ranks'][0]['is_ranked']
    ranking.loc[i, 'ranks.label'] = r['ranks'][0]['label']

# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
ranking.to_csv('data/best_global_universities.csv', index=False)
ranking.to_excel('data/best_global_universities.xlsx', index=False)

# –¢–û–ü 10 —Å—Ç—Ä–∞–Ω –ø–æ –º–µ–¥–∏–∞–Ω–µ
ranking[['country_name', 'id', 'ranks.value']].groupby(by='country_name').agg({
    'id': 'count',
    'ranks.value': 'median'
}).rename(columns={
    'id': 'count',
    'ranks.value': 'rank_median'
}).sort_values(by='rank_median').head(10)
```




<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
      <th>rank_median</th>
    </tr>
    <tr>
      <th>country_name</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Netherlands</th>
      <td>15</td>
      <td>97.5</td>
    </tr>
    <tr>
      <th>Hong Kong</th>
      <td>7</td>
      <td>100.0</td>
    </tr>
    <tr>
      <th>Switzerland</th>
      <td>12</td>
      <td>150.0</td>
    </tr>
    <tr>
      <th>Singapore</th>
      <td>4</td>
      <td>231.0</td>
    </tr>
    <tr>
      <th>Denmark</th>
      <td>7</td>
      <td>261.0</td>
    </tr>
    <tr>
      <th>Australia</th>
      <td>39</td>
      <td>273.0</td>
    </tr>
    <tr>
      <th>Belgium</th>
      <td>11</td>
      <td>292.0</td>
    </tr>
    <tr>
      <th>Sweden</th>
      <td>19</td>
      <td>346.5</td>
    </tr>
    <tr>
      <th>Finland</th>
      <td>11</td>
      <td>447.0</td>
    </tr>
    <tr>
      <th>Iceland</th>
      <td>1</td>
      <td>452.0</td>
    </tr>
  </tbody>
</table>
</div>



### –ü—Ä–µ–¥–º–µ—Ç–Ω—ã–µ

–ü–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ, –ø–æ—ç—Ç–æ–º—É —Ä–∞–∑–æ–±—å—ë–º –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ —ç—Ç–∞–ø—ã. –ù–∞—á–Ω—ë–º —Å–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.


```python showLineNumbers title="–ü–∞—Ä—Å–∏–º —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤"
subjects = []
subject_first_url = 'https://www.usnews.com/education/best-global-universities/rankings'
subject_first_resp = session.get(subject_first_url)

if subject_first_resp.status_code == 200:
    subject_html = subject_first_resp.text
    subject_soup = BeautifulSoup(subject_html)
    subject_select = subject_soup.find('select', {'name': 'subject'})

    for o in subject_select.find_all('option'):
        if o['value']:
            subjects.append({
                'title': o.text,
                'value': o['value']
            })
else:
    print(f"{subject_first_url} return status code {subject_first_resp.status_code}")

pd.DataFrame(subjects).head()
```

<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>title</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Agricultural Sciences</td>
      <td>agricultural-sciences</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Artificial Intelligence</td>
      <td>artificial-intelligence</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Arts and Humanities</td>
      <td>arts-and-humanities</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Biology and Biochemistry</td>
      <td>biology-biochemistry</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Biotechnology and Applied Microbiology</td>
      <td>biotechnology-applied-microbiology</td>
    </tr>
  </tbody>
</table>
</div>



–¢–µ–ø–µ—Ä—å —Å–∫–∞—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç–µ–º–∞—Ç–∏–∫–∞–º –∏ —Å–æ—Ö—Ä–∞–Ω–∏–º –∏—Ö –Ω–∞ –¥–∏—Å–∫–µ. –≠—Ç–æ –∑–∞–π–º—ë—Ç –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è, –Ω–∞–±–µ—Ä–∏—Ç–µ—Å—å —Ç–µ—Ä–ø–µ–Ω–∏—è. –ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤ –ø–∞–ø–∫–µ, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ: `data/downloads/bgu_by_subjects`.

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ ¬´–∑–∞–ª–∏–ø–Ω–µ—Ç¬ª, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å, –≤ —Ç–æ–º —á–∏—Å–ª–µ, –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π, –±–ª–æ–∫ –≤—ã—à–µ, –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç `session`. –ö–æ–¥ –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ –±—É–¥–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω–µ —É—Å–ø–µ–ª —Å–∫–∞—á–∞—Ç—å –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑.


```python showLineNumbers title="–°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–º —Ä–µ–π—Ç–∏–≥–∞–º"
subject_data_folder = 'data/downloads/bgu_by_subjects'
subject_url_prefix = 'https://www.usnews.com/education/best-global-universities'

for i, s in enumerate(subjects):
    subject_value = s['value']
    subject_dir = f"{subject_data_folder}/{subject_value.replace('-', '_')}"

    # –°–æ–∑–¥–∞—ë–º –ø–∞–ø–∫–∏ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –∏—Ö –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if not os.path.exists(subject_dir):
        os.makedirs(subject_dir)

    url_subject_tpl = f"{subject_url_prefix}/{subject_value}?format=json&page="
    first_url_subject = url_subject_tpl + '1'
    first_resp_subject = session.get(first_url_subject)

    if first_resp_subject.status_code == 200:
        first_json_subject = first_resp_subject.json()
        total_pages_subject = first_json_subject['total_pages']

        with open(f"{subject_dir}/1.json", 'w') as f:
            f.write(json.dumps(first_resp_subject.json()['items'], ensure_ascii=False, indent=4))

        for page_number in range(2, total_pages_subject + 1):
            subject_page_file_data = f"{subject_dir}/{page_number}.json"

            if os.path.isfile(subject_page_file_data):
                continue

            url_subject = url_subject_tpl + str(page_number)
            resp_subject = session.get(url_subject)

            if resp_subject.status_code == 200:
                with open(subject_page_file_data, 'w') as f:
                    f.write(json.dumps(resp_subject.json()['items'], ensure_ascii=False, indent=4))
            else:
                print(f"{url_subject} return status code {resp_subject.status_code}")

            # –ë–µ—Ä–µ–∂—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
            time.sleep(1)
    else:
        print(f"{first_url_subject} return status code {first_resp_subject.status_code}")
```

–°–æ–±–µ—Ä—ë–º –≤—Å—ë –≤ –∫—É—á–∫—É –∏–∑ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.


```python showLineNumbers title="–§–æ—Ä–º–∏—Ä—É–µ–º –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç—ã"
df_by_subject = pd.DataFrame()

for s in subjects:
    subject_value = s['value']
    subject_dir = f"{subject_data_folder}/{subject_value.replace('-', '_')}"
    bgu_files_numbers_in_subject = list(sorted([int(x.replace('.json', '')) for x in os.listdir(subject_dir)]))

    for n in bgu_files_numbers_in_subject:
        file_path = f"{subject_dir}/{n}.json"
        json_data = json.load(open(file_path, 'r'))
        chunk = pd.json_normalize(json_data)

        for i, r in chunk.iterrows():
            for rank_idx, rank in enumerate(r['ranks']):
                rank_value = rank['value']
                chunk.loc[i, f'rank-{rank_idx + 1}.value'] = np.NaN if rank_value == 'Unranked' else int(rank_value.replace(',', ''))
                chunk.loc[i, f'rank-{rank_idx + 1}.is_tied'] = rank['is_tied']
                chunk.loc[i, f'rank-{rank_idx + 1}.is_ranked'] = rank['is_ranked']
                chunk.loc[i, f'rank-{rank_idx + 1}.label'] = rank['label']

        df_by_subject = pd.concat([df_by_subject, chunk], ignore_index=True)

df_by_subject.to_csv('data/best_global_universities_subject.csv', index=False)
df_by_subject.to_excel('data/best_global_universities_subject.xlsx', index=False)
df_by_subject.head()
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>url</th>
      <th>id</th>
      <th>name</th>
      <th>city</th>
      <th>country_name</th>
      <th>three_digit_country_code</th>
      <th>ranks</th>
      <th>stats</th>
      <th>blurb</th>
      <th>image_url.src</th>
      <th>image_url.medium</th>
      <th>image_url.large</th>
      <th>rank-1.value</th>
      <th>rank-1.is_tied</th>
      <th>rank-1.is_ranked</th>
      <th>rank-1.label</th>
      <th>rank-2.value</th>
      <th>rank-2.is_tied</th>
      <th>rank-2.is_ranked</th>
      <th>rank-2.label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>501112</td>
      <td>Wageningen University &amp; Research</td>
      <td>Wageningen</td>
      <td>Netherlands</td>
      <td>NLD</td>
      <td>&#91;&#123;'value': '1', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '100.0', 'label': 'Subject Score'&#125;,...</td>
      <td></td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>False</td>
      <td>True</td>
      <td>Best Universities for Agricultural Sciences</td>
      <td>89.0</td>
      <td>True</td>
      <td>True</td>
      <td>Best Global Universities</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>500688</td>
      <td>China Agricultural University</td>
      <td>Beijing</td>
      <td>China</td>
      <td>CHN</td>
      <td>&#91;&#123;'value': '2', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '96.3', 'label': 'Subject Score'&#125;, ...</td>
      <td></td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>False</td>
      <td>True</td>
      <td>Best Universities for Agricultural Sciences</td>
      <td>332.0</td>
      <td>False</td>
      <td>True</td>
      <td>Best Global Universities</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>504800</td>
      <td>Jiangnan University</td>
      <td>Wuxi</td>
      <td>China</td>
      <td>CHN</td>
      <td>&#91;&#123;'value': '3', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '93.9', 'label': 'Subject Score'&#125;, ...</td>
      <td></td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>False</td>
      <td>True</td>
      <td>Best Universities for Agricultural Sciences</td>
      <td>598.0</td>
      <td>True</td>
      <td>True</td>
      <td>Best Global Universities</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>505115</td>
      <td>South China University of Technology</td>
      <td>Guangzhou</td>
      <td>China</td>
      <td>CHN</td>
      <td>&#91;&#123;'value': '4', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '91.7', 'label': 'Subject Score'&#125;, ...</td>
      <td></td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>False</td>
      <td>True</td>
      <td>Best Universities for Agricultural Sciences</td>
      <td>219.0</td>
      <td>True</td>
      <td>True</td>
      <td>Best Global Universities</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://www.usnews.com/education/best-global-u...</td>
      <td>166629</td>
      <td>University of Massachusetts Amherst</td>
      <td>Amherst</td>
      <td>United States</td>
      <td>USA</td>
      <td>&#91;&#123;'value': '5', 'is_tied': False, 'is_ranked':...</td>
      <td>&#91;&#123;'value': '88.3', 'label': 'Subject Score'&#125;, ...</td>
      <td></td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>False</td>
      <td>True</td>
      <td>Best Universities for Agricultural Sciences</td>
      <td>160.0</td>
      <td>True</td>
      <td>True</td>
      <td>Best Global Universities</td>
    </tr>
  </tbody>
</table>
</div>


–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –¢–û–ü 10 –ø—Ä–µ–¥–º–µ—Ç–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ üá∑üá∫ –†–æ—Å—Å–∏—è.


```python showLineNumbers title="–í—ã–≤–æ–¥–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–º —Ä–µ–π—Ç–∏–≥–∞–º"
df_by_subject[df_by_subject['three_digit_country_code'] == 'RUS'][['rank-1.label', 'id']].\
    groupby(by='rank-1.label').count().rename(columns={'id': 'count'}).\
    sort_values(by='count', ascending=False).head(10)
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
    </tr>
    <tr>
      <th>rank-1.label</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Best Universities for Physics</th>
      <td>20</td>
    </tr>
    <tr>
      <th>Best Universities for Chemistry</th>
      <td>17</td>
    </tr>
    <tr>
      <th>Best Universities for Materials Science</th>
      <td>14</td>
    </tr>
    <tr>
      <th>Best Universities for Engineering</th>
      <td>9</td>
    </tr>
    <tr>
      <th>Best Universities for Physical Chemistry</th>
      <td>9</td>
    </tr>
    <tr>
      <th>Best Universities for Optics</th>
      <td>8</td>
    </tr>
    <tr>
      <th>Best Universities for Mathematics</th>
      <td>7</td>
    </tr>
    <tr>
      <th>Best Universities for Condensed Matter Physics</th>
      <td>6</td>
    </tr>
    <tr>
      <th>Best Universities for Geosciences</th>
      <td>5</td>
    </tr>
    <tr>
      <th>Best Universities for Computer Science</th>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>

## Times Higher Education


```python showLineNumbers title="–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"
import re
import time
import requests
import pandas as pd
from bs4 import BeautifulSoup
```

–î–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —ç—Ç–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Ç–æ–∂–µ —Å–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç `session`.


```python showLineNumbers title="–°–æ–∑–¥–∞—ë–º —Å–µ—Å—Å–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∞–π—Ç–æ–º"
session = requests.session()
session.headers.update({
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ru',
    'cache-control': 'no-cache',
    'pragma': 'no-cache',
    'sec-ch-ua': '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Linux"',
    'sec-fetch-dest': 'document',
    'sec-fetch-mode': 'navigate',
    'sec-fetch-site': 'none',
    'sec-fetch-user': '?1',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36'
})
```

–î–∞–ª—å—à–µ —Å–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –≥–æ–¥–∞–º.


```python showLineNumbers title="–°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –≥–æ–¥–∞–º"
years = range(2020, 2023 + 1)
url_tpl = 'https://www.timeshighereducation.com/world-university-rankings/{year}/world-ranking'
ranking = pd.DataFrame(columns=['year'])

for year in years:
    html_url = url_tpl.format(year=year)
    html_resp = session.get(html_url)

    if html_resp.status_code == 200:
        html = html_resp.text
        soup = BeautifulSoup(html)
        scripts = soup.find_all('script')
        search_words = 'init_drupal_core_settings'
        drupal_settings_str = None

        for script in scripts:
            script_text = script.text

            if script_text.find(search_words) > -1:
                drupal_settings_str = script_text

        if drupal_settings_str:
            found = re.search(f"world_university_rankings_{year}_0__[\w\d]+\.json", drupal_settings_str)

            if found:
                data_url = f'https://www.timeshighereducation.com/sites/default/files/the_data_rankings/{found[0]}'
                data_resp = session.get(data_url)

                if data_resp.status_code == 200:
                    data = data_resp.json()
                    chunk = pd.json_normalize(data['data'])
                    chunk['year'] = year
                    ranking = pd.concat([ranking, chunk], ignore_index=True)
                else:
                    print(f"{data_url} return status code {data_resp.status_code}")
    else:
        print(f"{html_url} return status code {html_resp.status_code}")

    # –ë–µ—Ä–µ–∂—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
    time.sleep(1)

ranking.to_csv(f"data/the_{min(years)}-{max(years)}.csv", index=False)
ranking.to_excel(f"data/the_{min(years)}-{max(years)}.xlsx", index=False)
ranking.head()
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>rank_order</th>
      <th>rank</th>
      <th>name</th>
      <th>scores_overall</th>
      <th>scores_overall_rank</th>
      <th>scores_teaching</th>
      <th>scores_teaching_rank</th>
      <th>scores_research</th>
      <th>scores_research_rank</th>
      <th>...</th>
      <th>stats_pc_intl_students</th>
      <th>stats_female_male_ratio</th>
      <th>aliases</th>
      <th>subjects_offered</th>
      <th>closed</th>
      <th>unaccredited</th>
      <th>disabled</th>
      <th>apply_link</th>
      <th>cta_button.link</th>
      <th>cta_button.text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020</td>
      <td>10</td>
      <td>1</td>
      <td>University of Oxford</td>
      <td>95.4</td>
      <td>10</td>
      <td>90.5</td>
      <td>6</td>
      <td>99.6</td>
      <td>1</td>
      <td>...</td>
      <td>41%</td>
      <td>46 : 54</td>
      <td>University of Oxford</td>
      <td>Accounting &amp; Finance,General Engineering,Commu...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>Admissions Support</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020</td>
      <td>20</td>
      <td>2</td>
      <td>California Institute of Technology</td>
      <td>94.5</td>
      <td>20</td>
      <td>92.1</td>
      <td>2</td>
      <td>97.2</td>
      <td>4</td>
      <td>...</td>
      <td>30%</td>
      <td>34 : 66</td>
      <td>California Institute of Technology caltech</td>
      <td>Languages, Literature &amp; Linguistics,Economics ...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>Admissions Support</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020</td>
      <td>30</td>
      <td>3</td>
      <td>University of Cambridge</td>
      <td>94.4</td>
      <td>30</td>
      <td>91.4</td>
      <td>4</td>
      <td>98.7</td>
      <td>2</td>
      <td>...</td>
      <td>37%</td>
      <td>47 : 53</td>
      <td>University of Cambridge</td>
      <td>Business &amp; Management,General Engineering,Art,...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>Admissions Support</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020</td>
      <td>40</td>
      <td>4</td>
      <td>Stanford University</td>
      <td>94.3</td>
      <td>40</td>
      <td>92.8</td>
      <td>1</td>
      <td>96.4</td>
      <td>5</td>
      <td>...</td>
      <td>23%</td>
      <td>43 : 57</td>
      <td>Stanford University</td>
      <td>Physics &amp; Astronomy,Computer Science,Politics ...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>Admissions Support</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020</td>
      <td>50</td>
      <td>5</td>
      <td>Massachusetts Institute of Technology</td>
      <td>93.6</td>
      <td>50</td>
      <td>90.5</td>
      <td>5</td>
      <td>92.4</td>
      <td>10</td>
      <td>...</td>
      <td>34%</td>
      <td>39 : 61</td>
      <td>Massachusetts Institute of Technology</td>
      <td>Mathematics &amp; Statistics,Languages, Literature...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>https://www.timeshighereducation.com/student/r...</td>
      <td>Admissions Support</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 33 columns</p>
</div>



–ò–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ–±–µ—Ä—ë–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ üá∑üá∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ –ø–æ –≥–æ–¥–∞–º.


```python showLineNumbers title="–í—ã–≤–æ–¥–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤"
ranking[ranking['location'] == 'Russian Federation'][['year', 'location']].\
    groupby(by='year').count().rename(columns={'location': 'count'})
```


<div>
<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020</th>
      <td>39</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>48</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>100</td>
    </tr>
    <tr>
      <th>2023</th>
      <td>103</td>
    </tr>
  </tbody>
</table>
</div>



## QS-—Ä–µ–π—Ç–∏–Ω–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤

:::warning –°–∞–π—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

–î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ —Ä–µ—à–µ–Ω–∏—é –ü—É—á–µ–∂—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–Ω–æ–≥–æ —Å—É–¥–∞ (–ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏) [‚Ññ 2–∞-62/2023 –æ—Ç 19.01.2023](https://puchezhsky--iwn.sudrf.ru/modules.php?name=sud_delo&srv_num=1&name_op=case&case_id=86330472&case_uid=3e312afb-7355-4c11-8db4-c4f035377b3d&delo_id=41&new=0). –° —É—á—ë—Ç–æ–º —ç—Ç–æ–≥–æ, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ üá∑üá∫ –†–æ—Å—Å–∏–π—Å–∫–∏—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π —Ä–µ–π—Ç–∏–Ω–≥–∞, –Ω–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ **–ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏**.

:::

–ü–æ –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –Ω–∞ —Å–∞–π—Ç–µ —Å—É–¥–∞ `<–¥–∞–Ω–Ω—ã–µ –∏–∑—ä—è—Ç—ã>` –∏ –Ω–µ –≤–∏–¥–Ω–æ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —ç—Ç–∞ [—Å—Å—ã–ª–∫–∞](https://eais.rkn.gov.ru/) –Ω–∞ —Ä–µ–µ—Å—Ç—Ä –†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä–∞. –í –ø–æ–ª–µ ¬´–ò—Å–∫–æ–º—ã–π —Ä–µ—Å—É—Ä—Å¬ª —É–∫–∞–∂–∏—Ç–µ ‚Äî `www.topuniversities.com`.

```python showLineNumbers title="–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥"
import json
import requests
import pandas as pd
from bs4 import BeautifulSoup

year = 2022
page_url = f'https://www.topuniversities.com/university-rankings/world-university-rankings/{year}'
page_resp = requests.get(page_url)

if page_resp.status_code == 200:
    page_html = page_resp.text
    page_soup = BeautifulSoup(page_html)
    drupal_settings = page_soup.find('script', attrs={'data-drupal-selector': 'drupal-settings-json'}).text
    drupal_settings_json = json.loads(drupal_settings)
    nid = drupal_settings_json['statistics']['data']['nid']
    rank_resp = requests.get(f"https://www.topuniversities.com/rankings/endpoint?nid={nid}&page=0&items_per_page=2000")

    if rank_resp.status_code == 200:
        rank_json = rank_resp.json()
        df = pd.json_normalize(rank_json['score_nodes'])
```

```python showLineNumbers title="–ü—Ä–µ–¥–º–µ—Ç–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥"
import json
import requests
import pandas as pd
from bs4 import BeautifulSoup

year = 2022
page_url = f'https://www.topuniversities.com/university-rankings/university-subject-rankings/{year}/natural-sciences'
page_resp = requests.get(page_url)
subjects = []
result = pd.DataFrame()

if page_resp.status_code == 200:
    page_html = page_resp.text
    page_soup = BeautifulSoup(page_html)
    subject_el = page_soup.find('select', {'id': 'qsrankingsubject'})

    for g in subject_el.find_all('optgroup'):
        for o in g.find_all('option'):
            subjects.append({
                'group': g['label'],
                'subject': o.text,
                'url': o['value']
            })

for i, s in enumerate(subjects):
    print(i, s['group'], '-', s['subject'])

    s_resp = requests.get(f"https://www.topuniversities.com/{s['url']}")

    if s_resp.status_code == 200:
        s_html = s_resp.text
        s_soup = BeautifulSoup(s_html)
        drupal_settings = s_soup.find('script', attrs={'data-drupal-selector': 'drupal-settings-json'}).text
        drupal_settings_json = json.loads(drupal_settings)
        rank_url = drupal_settings_json['qs_rankings_datatables']['rank_url']
        rank_resp = requests.get(rank_url)

        if rank_resp.status_code == 200:
            rank_json = rank_resp.json()
            df = pd.json_normalize(rank_json['data'])

            for i, r in df.iterrows():
                title_html = r['title']
                title_soup = BeautifulSoup(title_html)
                df.loc[i, 'title'] = title_soup.text
                df.loc[i, 'url'] = f"https://www.topuniversities.com{title_soup.a['href']}"

            df['group'] = s['group']
            df['subject'] = s['subject']

            result = pd.concat([result, df], ignore_index=True)
```
