---
sidebar_label: –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ ¬´–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2030¬ª
---

# –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞ ¬´–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 2030¬ª

–î–ª—è —Ä–∞–∑–Ω—ã—Ö –Ω—É–∂–¥ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å —Ç–µ–∫—É—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º—ã ¬´–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2030¬ª. –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±—Ä–∞—Ç—å –≤—Å—ë –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª.

–ù–∞–¥–æ –æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ **–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç—Ä–µ–∫—É ¬´–î–∞–ª—å–Ω–∏–π –≤–æ—Å—Ç–æ–∫¬ª**, —Ç.–∫. –Ω–∞ –Ω–∞—á–∞–ª–æ –º–∞—è 2023 –≥–æ–¥–∞, —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã –ø–æ –¥–∞–Ω–Ω–æ–º—É —Ç—Ä–µ–∫—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–∞ —Å–∞–π—Ç–µ.

```python showLineNumbers title="–ò–º–ø–æ—Ä—Ç—ã –∏ –Ω–∞—á–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
import time
import requests
import pandas as pd

# –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç —Å–µ—Å—Å–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∞–π—Ç–æ–º
session = requests.session()
# –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π –∑–∞–π–¥—ë–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é –∑–∞ –ø–µ—á–µ–Ω—å–∫–∞–º–∏
home_resp = session.get('https://priority2030.ru/')
is_everything_okay = home_resp.status_code == 200
```

## –°–ø–∏—Å–æ–∫ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤

–î–ª—è –Ω–∞—á–∞–ª —Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤:


```python showLineNumbers title="–§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤"
university_list_resp = session.get('https://lk.priority2030.ru/api/v0/priority/list')
university_list = pd.DataFrame()

if is_everything_okay and university_list_resp.status_code == 200:
    university_list_json = university_list_resp.json()

    if university_list_json['status'] == 'success':
        university_list = pd.json_normalize(university_list_json['data']['participants'])

# –ù–µ–±–æ–ª—å—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
university_list = university_list.rename(columns={'special': 'type'})
university_list['type'] = university_list['type'].apply(lambda x: x if x != '' else '–ë–∞–∑–æ–≤–∞—è —á–∞—Å—Ç—å')

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤
university_list.to_csv('data/university_list.csv', index=False)
# –ü–æ—Å–º–æ—Ç—Ä–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ —Ç—Ä–µ–∫–∞–º
university_list[['type', 'id']].groupby(by='type').count().rename(columns={'id': 'count'})
```


<table class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
    </tr>
    <tr>
      <th>type</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>–ë–∞–∑–æ–≤–∞—è —á–∞—Å—Ç—å</th>
      <td>73</td>
    </tr>
    <tr>
      <th>–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ</th>
      <td>17</td>
    </tr>
    <tr>
      <th>–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ–µ/–æ—Ç—Ä–∞—Å–ª–µ–≤–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ</th>
      <td>31</td>
    </tr>
  </tbody>
</table>


## –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

–ß—Ç–æ–±—ã –Ω–µ –º—É—á–∞—Ç—å —Å–∏–ª—å–Ω–æ —Å–∞–π—Ç ¬´–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2030¬ª, –ø–æ –∫–∞–∂–¥–æ–º—É —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—É –¥–∞–Ω–Ω—ã–π —Å–æ–±–∏—Ä–∞—é—Ç—Å—è **—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –≤ 0,5 —Å–µ–∫—É–Ω–¥—ã** (–æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å —Å –∑–∞–±–æ—Ç–æ–π –∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö ü§ó), —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤—Å—ë –æ–∫–æ–ª–æ 1-2 –º–∏–Ω—É—Ç.


```python showLineNumbers title="–°–æ–±–∏—Ä–∞–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞–º"
university_kpis = pd.DataFrame()

for i, university in university_list.iterrows():
    university_id = university['id']
    resp = session.get(f"https://lk.priority2030.ru/api/v0/priority/{university_id}/indicator")

    if is_everything_okay and resp.status_code == 200:
        json_data = resp.json()

        if json_data['status'] == 'success':
            kpi_list = list(range(0, len(json_data['data'])))

            for kpi_index in kpi_list:
                kpi_type = '–ë–∞–∑–æ–≤–∞—è —á–∞—Å—Ç—å'
                elements = pd.json_normalize(json_data['data'][kpi_index]['elements'])

                for j, kpi in elements.sort_values(by='indicator').iterrows():
                        data_ids = {}

                        # –í API –∫–∞–∫–∞—è-—Ç–æ –¥–∏—á—å —Ç–≤–æ—Ä–∏—Ç—Å—è...
                        # –î–∞–ª–µ–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ ¬´–û—Ç—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∞¬ª –∏ ¬´–ü–ª–∞–Ω¬ª, –Ω–æ –µ—Å—Ç—å –µ—â—ë –∏ ¬´–§–∞–∫—Ç¬ª ü§∑‚Äç‚ôÇÔ∏è
                        for data_id, data_item in enumerate(kpi['data']):
                            data_ids[data_item['description']] = data_id

                        for key, value in kpi['data'][data_ids['–û—Ç—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∞']]['data'].items():
                            if value is not None:
                                plan = kpi['data'][data_ids['–ü–ª–∞–Ω']]['data'][key]

                                # –í—ã—è—Å–Ω—è–µ–º —Ç—Ä–µ–∫ –ø–æ —Å–ø–µ—Ü. —á–∞—Å—Ç–∏
                                if kpi_index > 0:
                                    kpi_postfix = kpi['indicator'].split('_')[1]
                                    kpi_type = '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ' if kpi_postfix == '—Å1' else '–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ–µ/–æ—Ç—Ä–∞—Å–ª–µ–≤–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ'

                                university_kpis = pd.concat([university_kpis, pd.DataFrame([{
                                    'id': university_id,
                                    'university': university['shortName'],
                                    'type': kpi_type,
                                    'indicator': kpi['indicator'],
                                    'unit': kpi['unit'],
                                    'year': key,
                                    'plan': plan,
                                    'fact': value,
                                    'percent': round(value / plan, 2) if plan else 0,
                                    'description': kpi['description'],
                                    'formula': kpi['formula'],
                                    'calculation_method': kpi['calculationMethod']
                                }])])

    time.sleep(0.5)

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—É—á–∏–≤—à—É—é—Å—è —Å–±–æ—Ä–∫—É
university_kpis.to_csv('data/university_kpis.csv', index=False)
```

–í—Ä–æ–¥–µ –±—ã –≤—Å—ë üëç –ò—Å—Ö–æ–¥–Ω—ã–π Jupiter Notebook –¥–ª—è –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –¥–∞–Ω–Ω–æ–π [—Å—Å—ã–ª–∫–µ](https://github.com/psalru/analytics/blob/master/PSAL-19_parse_kpi_from_site_p2030/parse_university_kpis.ipynb) –≤ Github.


–ü–æ–ª—É—á–∏–≤—à–∏–π—Å—è **–Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö**, –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è, –≤—ã –º–æ–∂–µ—Ç–µ ‚¨áÔ∏è —Å–∫–∞—á–∞—Ç—å –ø–æ [–¥–∞–Ω–Ω–æ–π —Å—Å—ã–ª–∫–µ](https://storage.yandexcloud.net/psal.public/datasets/2023-05-03_universities_kpis_from_p2030_site.xlsx).
