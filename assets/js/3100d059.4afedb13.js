"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4307],{3905:(t,n,l)=>{l.d(n,{Zo:()=>k,kt:()=>h});var e=l(7294);function u(t,n,l){return n in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l,t}function a(t,n){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),l.push.apply(l,e)}return l}function s(t){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?a(Object(l),!0).forEach((function(n){u(t,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(l,n))}))}return t}function r(t,n){if(null==t)return{};var l,e,u=function(t,n){if(null==t)return{};var l,e,u={},a=Object.keys(t);for(e=0;e<a.length;e++)l=a[e],n.indexOf(l)>=0||(u[l]=t[l]);return u}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(e=0;e<a.length;e++)l=a[e],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(t,l)&&(u[l]=t[l])}return u}var i=e.createContext({}),d=function(t){var n=e.useContext(i),l=n;return t&&(l="function"==typeof t?t(n):s(s({},n),t)),l},k=function(t){var n=d(t.components);return e.createElement(i.Provider,{value:n},t.children)},o="mdxType",c={inlineCode:"code",wrapper:function(t){var n=t.children;return e.createElement(e.Fragment,{},n)}},p=e.forwardRef((function(t,n){var l=t.components,u=t.mdxType,a=t.originalType,i=t.parentName,k=r(t,["components","mdxType","originalType","parentName"]),o=d(l),p=u,h=o["".concat(i,".").concat(p)]||o[p]||c[p]||a;return l?e.createElement(h,s(s({ref:n},k),{},{components:l})):e.createElement(h,s({ref:n},k))}));function h(t,n){var l=arguments,u=n&&n.mdxType;if("string"==typeof t||u){var a=l.length,s=new Array(a);s[0]=p;var r={};for(var i in n)hasOwnProperty.call(n,i)&&(r[i]=n[i]);r.originalType=t,r[o]="string"==typeof t?t:u,s[1]=r;for(var d=2;d<a;d++)s[d]=l[d];return e.createElement.apply(null,s)}return e.createElement.apply(null,l)}p.displayName="MDXCreateElement"},9841:(t,n,l)=>{l.r(n),l.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var e=l(7462),u=(l(7294),l(3905));const a={sidebar_label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",description:"\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0445 (\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0438 \u0437\u0430\u0440\u0443\u0431\u0435\u0436\u043d\u044b\u0445) \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"},s="\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",r={unversionedId:"parsing/universities-rankings/index",id:"parsing/universities-rankings/index",title:"\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",description:"\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0445 (\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0438 \u0437\u0430\u0440\u0443\u0431\u0435\u0436\u043d\u044b\u0445) \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",source:"@site/docs/02-parsing/03-universities-rankings/index.mdx",sourceDirName:"02-parsing/03-universities-rankings",slug:"/parsing/universities-rankings/",permalink:"/docs/parsing/universities-rankings/",draft:!1,editUrl:"https://github.com/psalru/psalru/tree/master/docs/02-parsing/03-universities-rankings/index.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",description:"\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0445 (\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0438 \u0437\u0430\u0440\u0443\u0431\u0435\u0436\u043d\u044b\u0445) \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"},sidebar:"tutorialSidebar",previous:{title:"\u041d\u0418\u041e\u041a\u0422\u0420, \u0420\u0418\u0414 \u0438 \u0434\u0438\u0441\u0441\u0435\u0440\u0442\u0430\u0446\u0438\u0438",permalink:"/docs/parsing/rosrid/"},next:{title:"API",permalink:"/docs/category/api"}},i={},d=[{value:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",id:"\u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",level:2},{value:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0418\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430",id:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0438\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430",level:2},{value:"RAEX \u0422\u041e\u041f 100",id:"raex-\u0442\u043e\u043f-100",level:2},{value:"\u0428\u0430\u043d\u0445\u0430\u0439\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",id:"\u0448\u0430\u043d\u0445\u0430\u0439\u0441\u043a\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",level:2},{value:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433",id:"\u043e\u0431\u0449\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433",level:3},{value:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435 \u0438 \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0430",id:"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435-\u0438-\u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0430",level:3},{value:"Best Global Universities",id:"best-global-universities",level:2},{value:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433",id:"\u043e\u0431\u0449\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-1",level:3},{value:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435",id:"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435",level:3},{value:"Times Higher Education",id:"times-higher-education",level:2},{value:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433",id:"\u043e\u0431\u0449\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-2",level:3},{value:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435",id:"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435-1",level:3},{value:"QS-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",id:"qs-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432",level:2},{value:"\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438 \u0438 \u0434\u0430\u043d\u043d\u044b\u0435",id:"\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438-\u0438-\u0434\u0430\u043d\u043d\u044b\u0435",level:2}],k={toc:d},o="wrapper";function c(t){let{components:n,...l}=t;return(0,u.kt)(o,(0,e.Z)({},k,l,{components:n,mdxType:"MDXLayout"}),(0,u.kt)("h1",{id:"\u043f\u0430\u0440\u0441\u0438\u043d\u0433-\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432-\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"},"\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"),(0,u.kt)("p",null,"\u041e\u0434\u043d\u0430 \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \xab",(0,u.kt)("del",{parentName:"p"},"\u043f"),"\u0432\u0443\u0437\u043e\u043c\u0435\u0440\u043e\u043a\xbb \u2014 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432. \u0415\u0441\u0442\u044c \ud83c\uddf7\ud83c\uddfa \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435, \u0435\u0441\u0442\u044c \u0437\u0430\u0440\u0443\u0431\u0435\u0436\u043d\u044b\u0435. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u044b \ud83d\udc68\u200d\ud83c\udf73 \xab\u0440\u0435\u0446\u0435\u043f\u0442\u044b\xbb \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432:"),(0,u.kt)("ol",null,(0,u.kt)("li",{parentName:"ol"},(0,u.kt)("a",{parentName:"li",href:"https://mosiur.org/"},"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u2014 \u0442\u0440\u0438 \u043c\u0438\u0441\u0441\u0438\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430")),(0,u.kt)("li",{parentName:"ol"},(0,u.kt)("a",{parentName:"li",href:"https://academia.interfax.ru/ru/ratings/?rating=1&year=2023&page=1"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0418\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430")),(0,u.kt)("li",{parentName:"ol"},(0,u.kt)("a",{parentName:"li",href:"https://raex-rr.com/education/russian_universities/top-100_universities/2023/"},"RAEX \u0422\u041e\u041f 100")),(0,u.kt)("li",{parentName:"ol"},(0,u.kt)("a",{parentName:"li",href:"https://www.shanghairanking.com/rankings/arwu/2022"},"\u0428\u0430\u043d\u0445\u0430\u0439\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"),", \u0432 \u0442.\u0447. \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c"),(0,u.kt)("li",{parentName:"ol"},(0,u.kt)("a",{parentName:"li",href:"https://www.usnews.com/education/best-global-universities/rankings"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 Best Global Universities"),", \u0432 \u0442.\u0447. \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c"),(0,u.kt)("li",{parentName:"ol"},(0,u.kt)("a",{parentName:"li",href:"https://www.timeshighereducation.com/world-university-rankings/2023/world-ranking"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u043e\u0442 Times Higher Education")),(0,u.kt)("li",{parentName:"ol"},"QS-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432, \u0432 \u0442.\u0447. \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c")),(0,u.kt)("p",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0432\u044b\u0445\u043e\u0434\u044f\u0442 (\u043e\u0431\u043d\u043e\u0432\u043b\u044f\u044e\u0442\u0441\u044f) \u0432 \u0440\u0430\u0437\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430. \u041d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 (\u0438\u044e\u043b\u044c 2023 \u0433.), \u043c\u043d\u043e\u0433\u0438\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u043b\u0438 2023 \u0433\u043e\u0434 (\u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e ",(0,u.kt)("inlineCode",{parentName:"p"},"years"),", \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u043a\u043e\u0434\u0435)."),(0,u.kt)("h2",{id:"\u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"},"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"',showLineNumbers:!0,title:'"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435','\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"':!0},"import time\nimport requests\nimport pandas as pd\nfrom bs4 import BeautifulSoup\n")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041f\u0430\u0440\u0441\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"',showLineNumbers:!0,title:'"\u041f\u0430\u0440\u0441\u0438\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,'\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"':!0},"years = list(range(2020, 2022 + 1))\nmsk_data = []\n\nfor y in years:\n    # \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u0432\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0432 url (\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0433\u043e\u0434 \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445)\n    msk_url = f\"https://mosiur.org/{'ranking' if y == 2022 else 'ranking' + str(y)}/\"\n    msk_resp = requests.get(msk_url)\n\n    if msk_resp.status_code == 200:\n        msk_soup = BeautifulSoup(msk_resp.text)\n\n        for tr in msk_soup.select('#top_table tbody tr'):\n            tds = tr.find_all('td')\n            msk_data.append({\n                'year': y,\n                'rank': tds[0].text,\n                'university': tds[1].text,\n                'country': tds[2].text\n            })\n    else:\n        print(f\"{msk_url} return status code {msk_resp.status_code}\")\n\n    # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n    time.sleep(1)\n\nmsk_df = pd.DataFrame(msk_data)\nmsk_df.to_csv(f\"data/msk_{min(years)}-{max(years)}.csv\", index=False)\nmsk_df.to_excel(f\"data/msk_{min(years)}-{max(years)}.xlsx\", index=False)\nmsk_df.head(5)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"year"),(0,u.kt)("th",null,"rank"),(0,u.kt)("th",null,"university"),(0,u.kt)("th",null,"country"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"Harvard University"),(0,u.kt)("td",null,"\u0421\u0428\u0410")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"Massachusetts Institute of Technology"),(0,u.kt)("td",null,"\u0421\u0428\u0410")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"3"),(0,u.kt)("td",null,"University of Cambridge"),(0,u.kt)("td",null,"\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"University of Oxford"),(0,u.kt)("td",null,"\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"University of Pennsylvania"),(0,u.kt)("td",null,"\u0421\u0428\u0410"))))),(0,u.kt)("p",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \xab\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\xbb \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d \u043f\u043e \u0433\u043e\u0434\u0430\u043c (\u0422\u041e\u041f 10)."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u0442\u0440\u043e\u0438\u043c \u0441\u0432\u043e\u0434\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u043c \u0422\u041e\u041f 10"',showLineNumbers:!0,title:'"\u0421\u0442\u0440\u043e\u0438\u043c',"\u0441\u0432\u043e\u0434\u043d\u0443\u044e":!0,"\u0442\u0430\u0431\u043b\u0438\u0446\u0443":!0,"\u0438":!0,"\u0432\u044b\u0432\u043e\u0434\u0438\u043c":!0,"\u0422\u041e\u041f":!0,'10"':!0},"msk_pivot = pd.pivot_table(\n    msk_df,\n    index='country',\n    columns='year',\n    values='university',\n    aggfunc='count'\n)\nmsk_pivot['sum'] = msk_pivot.sum(axis=1)\nmsk_pivot.sort_values(by='sum', ascending=False).head(10)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"year"),(0,u.kt)("th",null,"2020"),(0,u.kt)("th",null,"2021"),(0,u.kt)("th",null,"2022"),(0,u.kt)("th",null,"sum")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"country"),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0421\u0428\u0410"),(0,u.kt)("td",null,"220.0"),(0,u.kt)("td",null,"239.0"),(0,u.kt)("td",null,"253.0"),(0,u.kt)("td",null,"712.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041a\u0438\u0442\u0430\u0439"),(0,u.kt)("td",null,"122.0"),(0,u.kt)("td",null,"144.0"),(0,u.kt)("td",null,"173.0"),(0,u.kt)("td",null,"439.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0420\u043e\u0441\u0441\u0438\u044f"),(0,u.kt)("td",null,"101.0"),(0,u.kt)("td",null,"112.0"),(0,u.kt)("td",null,"146.0"),(0,u.kt)("td",null,"359.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f"),(0,u.kt)("td",null,"98.0"),(0,u.kt)("td",null,"106.0"),(0,u.kt)("td",null,"108.0"),(0,u.kt)("td",null,"312.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u042f\u043f\u043e\u043d\u0438\u044f"),(0,u.kt)("td",null,"93.0"),(0,u.kt)("td",null,"102.0"),(0,u.kt)("td",null,"101.0"),(0,u.kt)("td",null,"296.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0413\u0435\u0440\u043c\u0430\u043d\u0438\u044f"),(0,u.kt)("td",null,"69.0"),(0,u.kt)("td",null,"73.0"),(0,u.kt)("td",null,"74.0"),(0,u.kt)("td",null,"216.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0418\u0442\u0430\u043b\u0438\u044f"),(0,u.kt)("td",null,"50.0"),(0,u.kt)("td",null,"54.0"),(0,u.kt)("td",null,"54.0"),(0,u.kt)("td",null,"158.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0418\u043d\u0434\u0438\u044f"),(0,u.kt)("td",null,"45.0"),(0,u.kt)("td",null,"51.0"),(0,u.kt)("td",null,"58.0"),(0,u.kt)("td",null,"154.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0418\u0441\u043f\u0430\u043d\u0438\u044f"),(0,u.kt)("td",null,"42.0"),(0,u.kt)("td",null,"55.0"),(0,u.kt)("td",null,"56.0"),(0,u.kt)("td",null,"153.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0424\u0440\u0430\u043d\u0446\u0438\u044f"),(0,u.kt)("td",null,"40.0"),(0,u.kt)("td",null,"45.0"),(0,u.kt)("td",null,"54.0"),(0,u.kt)("td",null,"139.0"))))),(0,u.kt)("h2",{id:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0438\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0418\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"',showLineNumbers:!0,title:'"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435','\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"':!0},"import time\nimport requests\nimport pandas as pd\n")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"',showLineNumbers:!0,title:'"\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f',"\u0444\u0443\u043d\u043a\u0446\u0438\u044f":!0,"\u0434\u043b\u044f":!0,"\u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430":!0,'\u0434\u0430\u043d\u043d\u044b\u0445"':!0},"def get_interfax_list_by_year(year, page=1):\n    url = f\"https://academia.interfax.ru/data/rating/?rating=1&year={year}&page={page}\"\n    result = []\n    resp = requests.get(url)\n\n    # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n    time.sleep(1)\n\n    if resp.status_code == 200:\n        json_data = resp.json()\n        result += json_data['universities']\n        page_count = json_data['page_count']\n\n        if page != page_count:\n            result += get_interfax_list_by_year(year, page + 1)\n    else:\n        print(f\"{url} return status code {resp.status_code}\")\n\n    return result\n")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041f\u0430\u0440\u0441\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"',showLineNumbers:!0,title:'"\u041f\u0430\u0440\u0441\u0438\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,'\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"':!0},'years = list(range(2020, 2023 + 1))\ninterfax_df = pd.DataFrame()\n\nfor y in years:\n    interfax_df_by_year = pd.DataFrame(get_interfax_list_by_year(y))\n    interfax_df_by_year[\'year\'] = y\n    interfax_df = pd.concat([interfax_df, interfax_df_by_year], ignore_index=True)\n\ninterfax_df.to_csv(f"data/interfax_{min(years)}-{max(years)}.csv", index=False)\ninterfax_df.to_excel(f"data/interfax_{min(years)}-{max(years)}.xlsx", index=False)\ninterfax_df.head()\n')),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"change"),(0,u.kt)("th",null,"description"),(0,u.kt)("th",null,"is_close"),(0,u.kt)("th",null,"point"),(0,u.kt)("th",null,"rank"),(0,u.kt)("th",null,"name"),(0,u.kt)("th",null,"id"),(0,u.kt)("th",null,"url"),(0,u.kt)("th",null,"year"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"0"),(0,u.kt)("td",null,"None"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"1000"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u0438\u043c\u0435\u043d\u0438 \u041c..."),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"https://www.msu.ru"),(0,u.kt)("td",null,"2020")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"0"),(0,u.kt)("td",null,"None"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"963"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u044f\u0434\u0435\u0440\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441..."),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"https://mephi.ru"),(0,u.kt)("td",null,"2020")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"0"),(0,u.kt)("td",null,"None"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"961"),(0,u.kt)("td",null,"3"),(0,u.kt)("td",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0444\u0438\u0437\u0438\u043a\u043e-\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0438\u043d\u0441\u0442\u0438\u0442\u0443\u0442 (\u043d\u0430\u0446\u0438\u043e\u043d..."),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"https://mipt.ru"),(0,u.kt)("td",null,"2020")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"0"),(0,u.kt)("td",null,"None"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"857"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \xab\u0412\u044b..."),(0,u.kt)("td",null,"6"),(0,u.kt)("td",null,"https://www.hse.ru"),(0,u.kt)("td",null,"2020")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"None"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"848"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a\u0438\u0439 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0433..."),(0,u.kt)("td",null,"3"),(0,u.kt)("td",null,"http://www.nsu.ru/?lang=ru"),(0,u.kt)("td",null,"2020"))))),(0,u.kt)("p",null,"\u0412 \u0434\u0430\u043d\u043d\u044b\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0418\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u0422\u041e\u041f 10 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0434\u043d\u044f\u043b\u0438\u0441\u044c \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0433\u043e\u0434\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0441\u0435\u0445."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u0442\u0440\u043e\u0438\u043c \u0441\u0432\u043e\u0434\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u043c \u0422\u041e\u041f 10"',showLineNumbers:!0,title:'"\u0421\u0442\u0440\u043e\u0438\u043c',"\u0441\u0432\u043e\u0434\u043d\u0443\u044e":!0,"\u0442\u0430\u0431\u043b\u0438\u0446\u0443":!0,"\u0438":!0,"\u0432\u044b\u0432\u043e\u0434\u0438\u043c":!0,"\u0422\u041e\u041f":!0,'10"':!0},"interfax_pivot = pd.pivot_table(\n    interfax_df,\n    index='name',\n    columns='year',\n    values='change',\n    aggfunc='sum'\n)\ninterfax_pivot['sum'] = interfax_pivot.sum(axis=1)\ninterfax_pivot.sort_values(by='sum', ascending=False).head(10)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"year"),(0,u.kt)("th",null,"2020"),(0,u.kt)("th",null,"2021"),(0,u.kt)("th",null,"2022"),(0,u.kt)("th",null,"2023"),(0,u.kt)("th",null,"sum")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"name"),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u0421\u0438\u043d\u0435\u0440\u0433\u0438\u044f"),(0,u.kt)("td",null,"-1.0"),(0,u.kt)("td",null,"78.0"),(0,u.kt)("td",null,"43.0"),(0,u.kt)("td",null,"44.0"),(0,u.kt)("td",null,"164.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0438\u043d\u0441\u0442\u0438\u0442\u0443\u0442 \u043f\u0441\u0438\u0445\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0430"),(0,u.kt)("td",null,"-8.0"),(0,u.kt)("td",null,"3.0"),(0,u.kt)("td",null,"128.0"),(0,u.kt)("td",null,"25.0"),(0,u.kt)("td",null,"148.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0427\u0435\u0447\u0435\u043d\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u0438\u043c\u0435\u043d\u0438 \u0410.\u0410.\u041a\u0430\u0434\u044b\u0440\u043e\u0432\u0430"),(0,u.kt)("td",null,"-22.0"),(0,u.kt)("td",null,"83.0"),(0,u.kt)("td",null,"58.0"),(0,u.kt)("td",null,"14.0"),(0,u.kt)("td",null,"133.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u043e-\u043f\u0435\u0434\u0430\u0433\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"15.0"),(0,u.kt)("td",null,"78.0"),(0,u.kt)("td",null,"18.0"),(0,u.kt)("td",null,"12.0"),(0,u.kt)("td",null,"123.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0423\u0440\u0430\u043b\u044c\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0430\u0433\u0440\u0430\u0440\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"-21.0"),(0,u.kt)("td",null,"40.0"),(0,u.kt)("td",null,"104.0"),(0,u.kt)("td",null,"-4.0"),(0,u.kt)("td",null,"119.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0430\u0433\u0440\u0430\u0440\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"-1.0"),(0,u.kt)("td",null,"-12.0"),(0,u.kt)("td",null,"122.0"),(0,u.kt)("td",null,"3.0"),(0,u.kt)("td",null,"112.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0423\u0440\u0430\u043b\u044c\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0433\u043e\u0440\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"25.0"),(0,u.kt)("td",null,"17.0"),(0,u.kt)("td",null,"21.0"),(0,u.kt)("td",null,"48.0"),(0,u.kt)("td",null,"111.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041a\u0438\u0440\u043e\u0432\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"25.0"),(0,u.kt)("td",null,"12.0"),(0,u.kt)("td",null,"31.0"),(0,u.kt)("td",null,"40.0"),(0,u.kt)("td",null,"108.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041a\u0443\u0431\u0430\u043d\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"24.0"),(0,u.kt)("td",null,"18.0"),(0,u.kt)("td",null,"61.0"),(0,u.kt)("td",null,"-9.0"),(0,u.kt)("td",null,"94.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0413\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u043f\u0440\u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u044f (\u041c\u0413\u041e\u0423)"),(0,u.kt)("td",null,"5.0"),(0,u.kt)("td",null,"28.0"),(0,u.kt)("td",null,"51.0"),(0,u.kt)("td",null,"1.0"),(0,u.kt)("td",null,"85.0"))))),(0,u.kt)("h2",{id:"raex-\u0442\u043e\u043f-100"},"RAEX \u0422\u041e\u041f 100"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"',showLineNumbers:!0,title:'"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435','\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"':!0},"import re\nimport time\nimport requests\nimport numpy as np\nimport pandas as pd\nfrom bs4 import BeautifulSoup\n")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041f\u0430\u0440\u0441\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"',showLineNumbers:!0,title:'"\u041f\u0430\u0440\u0441\u0438\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,'\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"':!0},"years = list(range(2020, 2023 + 1))\nraex_list = []\n\nfor y in years:\n    raex_url = f\"https://raex-rr.com/pro/education/russian_universities/top-100_universities/{y}/\"\n    raex_resp = requests.get(raex_url)\n\n    if raex_resp.status_code == 200:\n        raex_soup = BeautifulSoup(raex_resp.text)\n        raex_trs = raex_soup.select('#rrp_table_wrapper > table > tbody.list > tr')\n\n        for i, tr in enumerate(raex_trs):\n            th = tr.findChildren('th', recursive=False)\n            td = tr.findChildren('td', recursive=False)\n\n            raex_list.append({\n                'year': y,\n                'rank': int(th[0].text),\n                'title': re.sub(r'[\\s\\n]+', ' ', th[1].text).strip(),\n                'previous': float(td[0].text) if td[0].text != '-' else np.NaN,\n                'points': float(td[1].text),\n                'quality': int(td[2].text),\n                'graduates': int(td[3].text),\n                'science': int(td[4].text)\n            })\n    else:\n        print(f\"{raex_url} return status code {raex_resp.status_code}\")\n\n    # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n    time.sleep(1)\n\nraex_df = pd.DataFrame(raex_list)\nraex_df.to_csv(f\"data/raex_{min(years)}-{max(years)}.csv\", index=False)\nraex_df.to_excel(f\"data/raex_{min(years)}-{max(years)}.xlsx\", index=False)\nraex_df.head()\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"year"),(0,u.kt)("th",null,"rank"),(0,u.kt)("th",null,"title"),(0,u.kt)("th",null,"previous"),(0,u.kt)("th",null,"points"),(0,u.kt)("th",null,"quality"),(0,u.kt)("th",null,"graduates"),(0,u.kt)("th",null,"science"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u0438\u043c\u0435\u043d\u0438 \u041c..."),(0,u.kt)("td",null,"1.0"),(0,u.kt)("td",null,"4.8419"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"1")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0444\u0438\u0437\u0438\u043a\u043e-\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0438\u043d\u0441\u0442\u0438\u0442\u0443\u0442 (\u043d\u0430\u0446\u0438\u043e\u043d..."),(0,u.kt)("td",null,"2.0"),(0,u.kt)("td",null,"4.7734"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"7"),(0,u.kt)("td",null,"2")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"3"),(0,u.kt)("td",null,"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u044f\u0434\u0435\u0440\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441..."),(0,u.kt)("td",null,"3.0"),(0,u.kt)("td",null,"4.5535"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"4")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"4.0"),(0,u.kt)("td",null,"4.5394"),(0,u.kt)("td",null,"3"),(0,u.kt)("td",null,"12"),(0,u.kt)("td",null,"7")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,'\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 "\u0412\u044b...'),(0,u.kt)("td",null,"5.0"),(0,u.kt)("td",null,"4.4933"),(0,u.kt)("td",null,"6"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"11"))))),(0,u.kt)("p",null,"\u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432, \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435 \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0443 \u043f\u0440\u0438\u0441\u0432\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0422\u041e\u041f 10 \u043b\u0438\u0434\u0435\u0440\u043e\u0432 \u043f\u043e \u0441\u0440\u0435\u0434\u043d\u0435\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435 \u0437\u0430 \u0441\u043a\u0430\u0447\u0430\u043d\u043d\u044b\u0435 \u0433\u043e\u0434\u0430."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",10:!0,className:"language-python",metastring:'showLineNumbers title="\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c \u0422\u041e\u041f 10 \u043f\u043e \u0441\u0440\u0435\u0434\u043d\u0435\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0438"',showLineNumbers:!0,title:'"\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c',"\u0422\u041e\u041f":!0,"\u043f\u043e":!0,"\u0441\u0440\u0435\u0434\u043d\u0435\u0439":!0,'\u043f\u043e\u0437\u0438\u0446\u0438\u0438"':!0},"raex_df[['title', 'rank']].groupby(by='title').mean().sort_values(by='rank').head(10)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"rank")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"title"),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u0438\u043c\u0435\u043d\u0438 \u041c.\u0412. \u041b\u043e\u043c\u043e\u043d\u043e\u0441\u043e\u0432\u0430"),(0,u.kt)("td",null,"1.000000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0444\u0438\u0437\u0438\u043a\u043e-\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0438\u043d\u0441\u0442\u0438\u0442\u0443\u0442 (\u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442)"),(0,u.kt)("td",null,"2.000000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u044f\u0434\u0435\u0440\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \xab\u041c\u0418\u0424\u0418\xbb"),(0,u.kt)("td",null,"3.500000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"3.500000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,'\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 "\u0412\u044b\u0441\u0448\u0430\u044f \u0448\u043a\u043e\u043b\u0430 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438"'),(0,u.kt)("td",null,"5.250000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u0438\u043c\u0435\u043d\u0438 \u041d.\u042d. \u0411\u0430\u0443\u043c\u0430\u043d\u0430 (\u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442)"),(0,u.kt)("td",null,"6.000000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041c\u0413\u0418\u041c\u041e \u041c\u0418\u0414 \u0420\u043e\u0441\u0441\u0438\u0438"),(0,u.kt)("td",null,"6.750000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043a\u0438\u0439 \u043f\u043e\u043b\u0438\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442 \u041f\u0435\u0442\u0440\u0430 \u0412\u0435\u043b\u0438\u043a\u043e\u0433\u043e"),(0,u.kt)("td",null,"8.250000")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0422\u043e\u043c\u0441\u043a\u0438\u0439 \u043f\u043e\u043b\u0438\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"8.666667")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"\u0422\u043e\u043c\u0441\u043a\u0438\u0439 \u043f\u043e\u043b\u0438\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442"),(0,u.kt)("td",null,"9.000000"))))),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435")," \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432\u043e\u0435 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u043e RAEX \xab\u0431\u043e\u0433\u0430\u0442\u043e\xbb \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0438 (\u043f\u043e\u043b\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a ",(0,u.kt)("a",{parentName:"p",href:"https://raex-rr.com/all_rankings/"},"\u0442\u0443\u0442"),"). \u0414\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432, \u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 +/- \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u0435."),(0,u.kt)("h2",{id:"\u0448\u0430\u043d\u0445\u0430\u0439\u0441\u043a\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"},"\u0428\u0430\u043d\u0445\u0430\u0439\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"',showLineNumbers:!0,title:'"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435','\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"':!0},"import os\nimport re\nimport json\nimport time\nimport js2py\nimport requests\nimport pandas as pd\n")),(0,u.kt)("h3",{id:"\u043e\u0431\u0449\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433"},"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0417\u0430\u0431\u0438\u0440\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"',showLineNumbers:!0,title:'"\u0417\u0430\u0431\u0438\u0440\u0430\u0435\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,'\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"':!0},"url_ranking = 'https://www.shanghairanking.com/api/pub/v1/inst'\nresp_ranking = requests.get(url_ranking)\nranking = pd.DataFrame()\n\nif resp_ranking.status_code == 200:\n    json_data = resp_ranking.json()\n    ranking = pd.json_normalize(json_data['data'])\nelse:\n    print(f\"{url_ranking} return status code {resp_ranking.status_code}\")\n\nranking.to_csv('data/shanghai.csv', index=False)\nranking.to_excel('data/shanghai.xlsx', index=False)\nranking.head()\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"nameEn"),(0,u.kt)("th",null,"univLogo"),(0,u.kt)("th",null,"univUp"),(0,u.kt)("th",null,"region"),(0,u.kt)("th",null,"rankingInfo"),(0,u.kt)("th",null,"ranking"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"Harvard University"),(0,u.kt)("td",null,"logo/032bd1b77.png"),(0,u.kt)("td",null,"harvard-university"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"ARWU 2022"),(0,u.kt)("td",null,"1")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"Stanford University"),(0,u.kt)("td",null,"logo/13de8913b.png"),(0,u.kt)("td",null,"stanford-university"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"ARWU 2022"),(0,u.kt)("td",null,"2")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"Massachusetts Institute of Technology (MIT)"),(0,u.kt)("td",null,"logo/79165fd8b.png"),(0,u.kt)("td",null,"massachusetts-institute-of-technology-mit"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"ARWU 2022"),(0,u.kt)("td",null,"3")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"University of Cambridge"),(0,u.kt)("td",null,"logo/8d9861b69.png"),(0,u.kt)("td",null,"university-of-cambridge"),(0,u.kt)("td",null,"United Kingdom"),(0,u.kt)("td",null,"ARWU 2022"),(0,u.kt)("td",null,"4")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"University of California, Berkeley"),(0,u.kt)("td",null,"logo/0ff179fb8.png"),(0,u.kt)("td",null,"university-of-california-berkeley"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"ARWU 2022"),(0,u.kt)("td",null,"5"))))),(0,u.kt)("p",null,"\u041f\u043e\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0435 \u043c\u043d\u043e\u0433\u043e \u0438 \u043c\u043e\u0436\u043d\u043e, \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430, \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0422\u041e\u041f 10 \ud83c\uddf7\ud83c\uddfa \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",10:!0,className:"language-python",metastring:'showLineNumbers title="\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0422\u041e\u041f 10 \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"',showLineNumbers:!0,title:'"\u0412\u044b\u0432\u043e\u0434\u0438\u043c',"\u0422\u041e\u041f":!0,"\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445":!0,'\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"':!0},"ranking[ranking['region'] == 'Russia'][['nameEn', 'ranking']].head(10)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"nameEn"),(0,u.kt)("th",null,"ranking"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"114"),(0,u.kt)("td",null,"Moscow State University"),(0,u.kt)("td",null,"101-150")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"347"),(0,u.kt)("td",null,"Saint Petersburg State University"),(0,u.kt)("td",null,"301-400")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"529"),(0,u.kt)("td",null,"Moscow Institute of Physics and Technology"),(0,u.kt)("td",null,"501-600")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"626"),(0,u.kt)("td",null,"HSE University"),(0,u.kt)("td",null,"601-700")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"654"),(0,u.kt)("td",null,"Sechenov University"),(0,u.kt)("td",null,"601-700")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"742"),(0,u.kt)("td",null,"Novosibirsk State University"),(0,u.kt)("td",null,"701-800")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"753"),(0,u.kt)("td",null,"Skolkovo Institute of Science and Technology"),(0,u.kt)("td",null,"701-800")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"761"),(0,u.kt)("td",null,"Tomsk State University"),(0,u.kt)("td",null,"701-800")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"797"),(0,u.kt)("td",null,"Ural Federal University"),(0,u.kt)("td",null,"701-800")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"847"),(0,u.kt)("td",null,"National Research Nuclear University MEPhI (Mo..."),(0,u.kt)("td",null,"801-900"))))),(0,u.kt)("h3",{id:"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435-\u0438-\u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0430"},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435 \u0438 \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0430"),(0,u.kt)("p",null,"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u043c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\u043c, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u043e\u0439\u0442\u0438 \u0432\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435. \u0421\u0442\u0440\u0430\u043d\u0438\u0446 \u043c\u043d\u043e\u0433\u043e (\u0431\u043e\u043b\u0435\u0435 3 \u0442\u044b\u0441.), \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u043f\u0430\u0441\u0430\u0435\u043c\u0441\u044f \u0442\u0435\u0440\u043f\u0435\u043d\u0438\u0435\u043c \u0438 \u0436\u0434\u0451\u043c, \u043f\u0435\u0440\u0435\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043f\u0430\u043f\u043a\u0438 ",(0,u.kt)("inlineCode",{parentName:"p"},"data/downloads/shanghai"),"."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430\u043c"',showLineNumbers:!0,title:'"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,"\u043f\u043e":!0,'\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430\u043c"':!0},"data_folder = 'data/downloads/shanghai'\n\nfor i, r in ranking.iterrows():\n    file_path = f\"{data_folder}/{i+1}.json\"\n\n    if not os.path.isfile(file_path):\n        university_path = r['univUp']\n        university_url = f'https://www.shanghairanking.com/institution/{university_path}'\n        html_resp = requests.get(university_url)\n\n        if html_resp.status_code == 200:\n            html = html_resp.text\n            reg = f\"\\/_nuxt\\/static\\/\\d+\\/institution\\/{university_path}\\/payload\\.js\"\n            payload = re.search(f\"/_nuxt/static/\\d+/institution/{university_path}/payload\\.js\", html)[0]\n            university_id = payload.replace('/_nuxt/static/', '').replace(f\"/{university_path}/institution/payload.js\", '')\n            js_url = f\"https://www.shanghairanking.com/{payload}\"\n            js_resp = requests.get(js_url)\n\n            if js_resp.status_code == 200:\n                js_data = js_resp.text\n                js_data = js2py.eval_js(js_data.replace(f'__NUXT_JSONP__(\"/institution/{university_path}\", ', '')[:-2])\n                university_data = js_data.data[0].univData.to_dict()\n\n                with open(file_path, 'w') as f:\n                    f.write(json.dumps(university_data, ensure_ascii=False, indent=4))\n            else:\n                print(f\"{university_url} return status code {html_resp.status_code}\")\n        else:\n            print(f\"{university_url} return status code {html_resp.status_code}\")\n\n        # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n        time.sleep(0.5)\n")),(0,u.kt)("p",null,"\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u043a\u0430\u0447\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0430\u043c\u043d\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0437\u0438\u0446\u0438\u044f \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435. \u0414\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430, \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u041c\u0413\u0423"',showLineNumbers:!0,title:'"\u0412\u044b\u0432\u043e\u0434\u0438\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,'\u041c\u0413\u0423"':!0},"example = json.load(open(f\"{data_folder}/493.json\", 'r'))\nexample\n")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-json",metastring:'showLineNumbers title="\u0414\u0430\u043d\u043d\u044b\u0435 \u041c\u0413\u0423"',showLineNumbers:!0,title:'"\u0414\u0430\u043d\u043d\u044b\u0435','\u041c\u0413\u0423"':!0},'{\n    "address": "Moskovskij Gosudarstvennyj Universitet im. M.V. Lomonosova, Leninskie Gory, Moscow 119992, Russian Federation",\n    "detail": {\n        "arwu": {\n            "datasetId": 1,\n            "intro": "The Academic Ranking of World Universities (ARWU) was first published in June 2003 by the Center for World-Class Universities (CWCU), Graduate School of Education (formerly the Institute of Higher Education) of Shanghai Jiao Tong University, China, and updated on an annual basis. Since 2009 the Academic Ranking of World Universities (ARWU) has been published and copyrighted by ShanghaiRanking Consultancy. ShanghaiRanking Consultancy is a fully independent organization on higher education intelligence and not legally subordinated to any universities or government agencies. ARWU uses six objective indicators to rank world universities, including the number of alumni and staff winning Nobel Prizes and Fields Medals, number of highly cited researchers selected by Clarivate, number of articles published in journals of Nature and Science, number of articles indexed in Science Citation Index Expanded\u2122 and Social Sciences Citation Index\u2122 in the Web of Science\u2122, and per capita performance of a university. More than 2500 universities are actually ranked by ARWU every year and the best 1000 are published.",\n            "latestVerNo": 2022,\n            "nameId": "ARWU",\n            "rkHistory": [\n                {"ranking": "93", "yr": 2020},\n                {"ranking": "97", "yr": 2021},\n                {"ranking": "101-150", "yr": 2022}\n            ],\n            "rkLatest": {"name": "Academic Ranking of World Universities", "ranking": "101-150"}\n        },\n        "bcur": null,\n        "gras": {\n            "latestVerNo": 2022,\n            "nameId": "GRAS",\n            "subjAdva": [\n                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0102", "name": "Physics", "ranking": "76-100"},\n                {"categoryCode": "RS02", "categoryNameShort": "ENG", "code": "RS0207", "name": "Instruments Science & Technology", "ranking": "201-300"},\n                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0101", "name": "Mathematics", "ranking": "301-400"},\n                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0103", "name": "Chemistry", "ranking": "301-400"},\n                {"categoryCode": "RS01", "categoryNameShort": "SCI", "code": "RS0106", "name": "Ecology", "ranking": "301-400"},\n                {"categoryCode": "RS02", "categoryNameShort": "ENG", "code": "RS0214", "name": "Nanoscience & Nanotechnology", "ranking": "301-400"},\n                {"categoryCode": "RS02", "categoryNameShort": "ENG", "code": "RS0220", "name": "Biotechnology", "ranking": "401-500"},\n                {"categoryCode": "RS04", "categoryNameShort": "MED", "code": "RS0401", "name": "Clinical Medicine", "ranking": "401-500"}\n            ],\n            "subjCategory": [\n                {\n                    "code": "RS01",\n                    "name": "Natural Sciences",\n                    "nameShort": "SCI",\n                    "subj": [\n                        {"code": "RS0101", "name": "Mathematics", "ranking": "301-400"},\n                        {"code": "RS0102", "name": "Physics", "ranking": "76-100"},\n                        {"code": "RS0103", "name": "Chemistry", "ranking": "301-400"},\n                        {"code": "RS0106", "name": "Ecology", "ranking": "301-400"}\n                    ]\n                },\n                {\n                    "code": "RS02",\n                    "name": "Engineering\\n",\n                    "nameShort": "ENG",\n                    "subj": [\n                        {"code": "RS0207", "name": "Instruments Science & Technology", "ranking": "201-300"},\n                        {"code": "RS0214", "name": "Nanoscience & Nanotechnology", "ranking": "301-400"},\n                        {"code": "RS0220", "name": "Biotechnology", "ranking": "401-500"}\n                    ]\n                },\n                {\n                    "code": "RS04",\n                    "name": "Medical Sciences",\n                    "nameShort": "MED",\n                    "subj": [\n                        {"code": "RS0401", "name": "Clinical Medicine", "ranking": "401-500"\n                        }\n                    ]\n                }\n            ]\n        }\n    },\n    "foundYear": 1755,\n    "introEn": "",\n    "nameEn": "Moscow State University",\n    "programs": [],\n    "ranking": "101-150",\n    "rankingInfo": "ARWU 2022",\n    "region": "Russia",\n    "regionDetail": "Eastern Europe",\n    "studentsStatis": [\n        [\n            {"nameEn": "Total Enrollment", "ratio": "", "value": "29235"},\n            {"nameEn": "International Students", "ratio": "29.0%","value": ""}\n        ],\n        [\n            {"nameEn": "Undergraduate Enrollment", "ratio": "", "value": ""},\n            {"nameEn": "International Students", "ratio": "", "value": ""}\n        ],\n        [\n            {"nameEn": "Graduate Enrollment", "ratio": "", "value": ""},\n            {"nameEn": "International Students", "ratio": "", "value": ""}\n        ]\n    ],\n    "univLogo": "logo/98123a275.png",\n    "univUp": "moscow-state-university",\n    "website": "http://www.msu.ru"\n}\n')),(0,u.kt)("p",null,"\u0414\u043b\u044f \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u044f \u0432\u043e\u0437\u044c\u043c\u0451\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u043e\u0439 \u043f\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c\u0443 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443 \u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0438."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0435 \u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u043c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\u043c"',showLineNumbers:!0,title:'"\u0421\u043e\u0431\u0438\u0440\u0430\u0435\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,"\u043f\u043e":!0,"\u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0435":!0,"\u0438":!0,"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u043c":!0,'\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\u043c"':!0},"file_numbers = sorted(list([int(x.replace('.json', '')) for x in os.listdir(data_folder)]))\nrating_retro = pd.DataFrame()\nrating_subject = pd.DataFrame()\n\nfor fn in file_numbers:\n    file_path = f\"{data_folder}/{fn}.json\"\n    json_data = json.load(open(file_path, 'r'))\n\n    if json_data['detail']['arwu'] and 'rkHistory' in json_data['detail']['arwu'].keys():\n        chunk_retro = pd.json_normalize(json_data['detail']['arwu']['rkHistory'])\n        chunk_retro['nameEn'], chunk_retro['region']  = json_data['nameEn'], json_data['region']\n        rating_retro = pd.concat([rating_retro, chunk_retro], ignore_index=True)\n\n    if json_data['detail']['gras']['subjAdva']:\n        chunk_subject = pd.json_normalize(json_data['detail']['gras']['subjAdva'])\n        chunk_subject['nameEn'], chunk_subject['region'] = json_data['nameEn'], json_data['region']\n        rating_subject = pd.concat([rating_subject, chunk_subject], ignore_index=True)\n\nretro_years = list(rating_retro['yr'].unique())\nrating_retro.to_csv(f\"data/shanghai_retro_{min(retro_years)}-{max(retro_years)}.csv\", index=False)\nrating_retro.to_excel(f\"data/shanghai_retro_{min(retro_years)}-{max(retro_years)}.xlsx\", index=False)\nrating_subject.to_csv('data/shanghai_subject.csv', index=False)\nrating_retro.to_excel('data/shanghai_subject.xlsx', index=False)\n")),(0,u.kt)("p",null,"\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0435, \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u043f\u043e \u0433\u043e\u0434\u0430\u043c."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u0433\u043e\u0434\u0430\u043c"',showLineNumbers:!0,title:'"\u0412\u044b\u0432\u043e\u0434\u0438\u043c',"\u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443":!0,"\u043f\u043e":!0,'\u0433\u043e\u0434\u0430\u043c"':!0},"rating_retro[rating_retro['region'] == 'Russia'][['yr', 'nameEn']].\\\n    groupby(by='yr').count().rename(columns={'nameEn': 'count'})\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"count")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"yr"),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"2020"),(0,u.kt)("td",null,"13")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2021"),(0,u.kt)("td",null,"13")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2022"),(0,u.kt)("td",null,"13"))))),(0,u.kt)("p",null,"\u0412 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\u0445 \u0432\u044b\u0434\u0435\u043b\u0438\u043c \u0441\u0430\u043c\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430\u043c\u0438 \ud83c\uddf7\ud83c\uddfa \u0420\u043e\u0441\u0441\u0438\u0438."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c"',showLineNumbers:!0,title:'"\u0412\u044b\u0432\u043e\u0434\u0438\u043c',"\u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443":!0,"\u043f\u043e":!0,'\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c"':!0},"rating_subject[rating_subject['region'] == 'Russia'][['name', 'nameEn']].\\\n    groupby(by='name').count().rename(columns={'nameEn': 'count'}).\\\n    sort_values(by='count', ascending=False).head(10)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"count")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"name"),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"Physics"),(0,u.kt)("td",null,"6")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Metallurgical Engineering"),(0,u.kt)("td",null,"6")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Biological Sciences"),(0,u.kt)("td",null,"4")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Nanoscience & Nanotechnology"),(0,u.kt)("td",null,"4")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Mathematics"),(0,u.kt)("td",null,"4")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Materials Science & Engineering"),(0,u.kt)("td",null,"3")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Agricultural Sciences"),(0,u.kt)("td",null,"2")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Economics"),(0,u.kt)("td",null,"2")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Pharmacy & Pharmaceutical Sciences"),(0,u.kt)("td",null,"2")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Mechanical Engineering"),(0,u.kt)("td",null,"2"))))),(0,u.kt)("h2",{id:"best-global-universities"},"Best Global Universities"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"',showLineNumbers:!0,title:'"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435','\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"':!0},"import os\nimport json\nimport time\nimport requests\nimport numpy as np\nimport pandas as pd\nfrom bs4 import BeautifulSoup\n")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"),", \u0447\u0442\u043e \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0430. \u041f\u0430\u0440\u0441\u0438\u0442\u044c \u0431\u0443\u0434\u0435\u043c \u0447\u0442\u043e \u0435\u0441\u0442\u044c \u0432 \u0441\u0435\u0439\u0447\u0430\u0441 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 (\u043d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0440\u0435\u0439\u0442\u0438\u043d\u0433 2022-2023)."),(0,u.kt)("p",null,"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u043d\u0435\u043c \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u043e\u0445\u043e\u0436\u0438\u043c\u0438 \u043d\u0430 \u0431\u0440\u0430\u0443\u0437\u0435\u0440."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0441\u0435\u0441\u0441\u0438\u044e \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0441\u0430\u0439\u0442\u043e\u043c"',showLineNumbers:!0,title:'"\u0421\u043e\u0437\u0434\u0430\u0451\u043c',"\u0441\u0435\u0441\u0441\u0438\u044e":!0,"\u0434\u043b\u044f":!0,"\u0440\u0430\u0431\u043e\u0442\u044b":!0,"\u0441":!0,'\u0441\u0430\u0439\u0442\u043e\u043c"':!0},"session = requests.session()\nsession.headers.update({\n    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n    'accept-encoding': 'gzip, deflate, br',\n    'accept-language': 'ru',\n    'cache-control': 'no-cache',\n    'pragma': 'no-cache',\n    'sec-ch-ua': '\".Not/A)Brand\";v=\"99\", \"Google Chrome\";v=\"103\", \"Chromium\";v=\"103\"',\n    'sec-ch-ua-mobile': '?0',\n    'sec-ch-ua-platform': '\"Linux\"',\n    'sec-fetch-dest': 'document',\n    'sec-fetch-mode': 'navigate',\n    'sec-fetch-site': 'none',\n    'sec-fetch-user': '?1',\n    'upgrade-insecure-requests': '1',\n    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36'\n})\n")),(0,u.kt)("h3",{id:"\u043e\u0431\u0449\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-1"},"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u0431\u043e\u0440\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u0449\u0435\u0433\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"',showLineNumbers:!0,title:'"\u0421\u0431\u043e\u0440\u043a\u0430',"\u0434\u0430\u043d\u043d\u044b\u0445":!0,"\u043e\u0431\u0449\u0435\u0433\u043e":!0,'\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430"':!0},"data_list = []\nurl_tpl = 'https://www.usnews.com/education/best-global-universities/search?format=json&page='\nurl_first = url_tpl + '1'\nresp_first = session.get(url_first)\n\nif resp_first.status_code == 200:\n    data_first = resp_first.json()\n    total_pages = data_first['total_pages']\n    data_list += data_first['items']\n\n    for page_number in range(2, total_pages  + 1):\n        url = url_tpl + str(page_number)\n        resp = session.get(url)\n\n        if resp.status_code == 200:\n            json_data = resp.json()\n            data_list += json_data['items']\n        else:\n            print(f\"{url} return status code {resp.status_code}\")\n\n        # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n        time.sleep(1)\nelse:\n    print(f\"{url_first} return status code {resp_first.status_code}\")\n\nranking = pd.DataFrame(data_list)\nranking.head()\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"url"),(0,u.kt)("th",null,"id"),(0,u.kt)("th",null,"name"),(0,u.kt)("th",null,"city"),(0,u.kt)("th",null,"country_name"),(0,u.kt)("th",null,"three_digit_country_code"),(0,u.kt)("th",null,"ranks"),(0,u.kt)("th",null,"stats"),(0,u.kt)("th",null,"image_url"),(0,u.kt)("th",null,"blurb"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"166027"),(0,u.kt)("td",null,"Harvard University"),(0,u.kt)("td",null,"Cambridge (U.S.)"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"USA"),(0,u.kt)("td",null,"[{'value': '1', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '100.0', 'label': 'Global Score'}, ..."),(0,u.kt)("td",null,"{'src': 'https://www.usnews.com/object/image/0..."),(0,u.kt)("td",null,"Founded in 1636, Harvard University is the old...")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"166683"),(0,u.kt)("td",null,"Massachusetts Institute of Technology (MIT)"),(0,u.kt)("td",null,"Cambridge (U.S.)"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"USA"),(0,u.kt)("td",null,"[{'value': '2', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '97.7', 'label': 'Global Score'}, {..."),(0,u.kt)("td",null,"{'src': 'https://www.usnews.com/object/image/0..."),(0,u.kt)("td",null,"Massachusetts Institute of Technology, founded...")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"243744"),(0,u.kt)("td",null,"Stanford University"),(0,u.kt)("td",null,"Stanford"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"USA"),(0,u.kt)("td",null,"[{'value': '3', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '95.2', 'label': 'Global Score'}, {..."),(0,u.kt)("td",null,"{'src': 'https://www.usnews.com/object/image/0..."),(0,u.kt)("td",null,"Stanford University was founded in 1885 and is...")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"110635"),(0,u.kt)("td",null,"University of California Berkeley"),(0,u.kt)("td",null,"Berkeley"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"USA"),(0,u.kt)("td",null,"[{'value': '4', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '88.7', 'label': 'Global Score'}, {..."),(0,u.kt)("td",null,"{'src': 'https://www.usnews.com/object/image/0..."),(0,u.kt)("td",null,"The University of California\u2014Berkeley is situa...")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"503637"),(0,u.kt)("td",null,"University of Oxford"),(0,u.kt)("td",null,"Oxford"),(0,u.kt)("td",null,"United Kingdom"),(0,u.kt)("td",null,"GBR"),(0,u.kt)("td",null,"[{'value': '5', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '86.8', 'label': 'Global Score'}, {..."),(0,u.kt)("td",null,"{'src': 'https://www.usnews.com/object/image/0..."),(0,u.kt)("td",null,"The exact date of the University of Oxford\u2019s f..."))))),(0,u.kt)("p",null,"\u0412\u044b\u0442\u0430\u0449\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0438\u0437 \u0441\u0442\u043e\u043b\u0431\u0446\u0430 ",(0,u.kt)("inlineCode",{parentName:"p"},"ranks")," \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b, \u0430 \u0434\u0430\u043b\u0435\u0435 \u0432\u044b\u0441\u0442\u0440\u043e\u0438\u043c, \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430, \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0441\u0442\u0440\u0430\u043d \u043f\u043e \u043c\u0435\u0434\u0438\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435 (\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0422\u041e\u041f 10)."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041f\u0440\u0438\u0432\u043e\u0434\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u0441\u0442\u0440\u0430\u043d\u0430\u043c"',showLineNumbers:!0,title:'"\u041f\u0440\u0438\u0432\u043e\u0434\u0438\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,"\u0432":!0,"\u043f\u043e\u0440\u044f\u0434\u043e\u043a":!0,"\u0438":!0,"\u0432\u044b\u0432\u043e\u0434\u0438\u043c":!0,"\u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443":!0,"\u043f\u043e":!0,'\u0441\u0442\u0440\u0430\u043d\u0430\u043c"':!0},"for i, r in ranking.iterrows():\n    rank_value = r['ranks'][0]['value']\n\n    ranking.loc[i, 'ranks.value'] = np.NaN if rank_value == 'Unranked' else int(rank_value.replace(',', ''))\n    ranking.loc[i, 'ranks.is_tied'] = r['ranks'][0]['is_tied']\n    ranking.loc[i, 'ranks.is_ranked'] = r['ranks'][0]['is_ranked']\n    ranking.loc[i, 'ranks.label'] = r['ranks'][0]['label']\n\n# \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b\nranking.to_csv('data/best_global_universities.csv', index=False)\nranking.to_excel('data/best_global_universities.xlsx', index=False)\n\n# \u0422\u041e\u041f 10 \u0441\u0442\u0440\u0430\u043d \u043f\u043e \u043c\u0435\u0434\u0438\u0430\u043d\u0435\nranking[['country_name', 'id', 'ranks.value']].groupby(by='country_name').agg({\n    'id': 'count',\n    'ranks.value': 'median'\n}).rename(columns={\n    'id': 'count',\n    'ranks.value': 'rank_median'\n}).sort_values(by='rank_median').head(10)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"count"),(0,u.kt)("th",null,"rank_median")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"country_name"),(0,u.kt)("th",null),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"Netherlands"),(0,u.kt)("td",null,"15"),(0,u.kt)("td",null,"97.5")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Hong Kong"),(0,u.kt)("td",null,"7"),(0,u.kt)("td",null,"100.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Switzerland"),(0,u.kt)("td",null,"12"),(0,u.kt)("td",null,"150.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Singapore"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"231.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Denmark"),(0,u.kt)("td",null,"7"),(0,u.kt)("td",null,"261.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Australia"),(0,u.kt)("td",null,"39"),(0,u.kt)("td",null,"273.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Belgium"),(0,u.kt)("td",null,"11"),(0,u.kt)("td",null,"292.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Sweden"),(0,u.kt)("td",null,"19"),(0,u.kt)("td",null,"346.5")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Finland"),(0,u.kt)("td",null,"11"),(0,u.kt)("td",null,"447.0")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Iceland"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"452.0"))))),(0,u.kt)("h3",{id:"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435"},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435"),(0,u.kt)("p",null,"\u041f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u043c\u043d\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0440\u0430\u0437\u043e\u0431\u044c\u0451\u043c \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 \u044d\u0442\u0430\u043f\u044b. \u041d\u0430\u0447\u043d\u0451\u043c \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041f\u0430\u0440\u0441\u0438\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432"',showLineNumbers:!0,title:'"\u041f\u0430\u0440\u0441\u0438\u043c',"\u0441\u043f\u0438\u0441\u043e\u043a":!0,'\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432"':!0},"subjects = []\nsubject_first_url = 'https://www.usnews.com/education/best-global-universities/rankings'\nsubject_first_resp = session.get(subject_first_url)\n\nif subject_first_resp.status_code == 200:\n    subject_html = subject_first_resp.text\n    subject_soup = BeautifulSoup(subject_html)\n    subject_select = subject_soup.find('select', {'name': 'subject'})\n\n    for o in subject_select.find_all('option'):\n        if o['value']:\n            subjects.append({\n                'title': o.text,\n                'value': o['value']\n            })\nelse:\n    print(f\"{subject_first_url} return status code {subject_first_resp.status_code}\")\n\npd.DataFrame(subjects).head()\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"title"),(0,u.kt)("th",null,"value"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"Agricultural Sciences"),(0,u.kt)("td",null,"agricultural-sciences")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"Artificial Intelligence"),(0,u.kt)("td",null,"artificial-intelligence")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"Arts and Humanities"),(0,u.kt)("td",null,"arts-and-humanities")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"Biology and Biochemistry"),(0,u.kt)("td",null,"biology-biochemistry")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"Biotechnology and Applied Microbiology"),(0,u.kt)("td",null,"biotechnology-applied-microbiology"))))),(0,u.kt)("p",null,"\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u043a\u0430\u0447\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430\u043c \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043c \u0438\u0445 \u043d\u0430 \u0434\u0438\u0441\u043a\u0435. \u042d\u0442\u043e \u0437\u0430\u0439\u043c\u0451\u0442 \u043a\u0430\u043a\u043e\u0435-\u0442\u043e \u0432\u0440\u0435\u043c\u044f, \u043d\u0430\u0431\u0435\u0440\u0438\u0442\u0435\u0441\u044c \u0442\u0435\u0440\u043f\u0435\u043d\u0438\u044f. \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0442\u044c \u0432 \u043f\u0430\u043f\u043a\u0435, \u043a\u0443\u0434\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0434\u0430\u043d\u043d\u044b\u0435: ",(0,u.kt)("inlineCode",{parentName:"p"},"data/downloads/bgu_by_subjects"),"."),(0,u.kt)("p",null,"\u0415\u0441\u043b\u0438 \u0447\u0442\u043e-\u0442\u043e \xab\u0437\u0430\u043b\u0438\u043f\u043d\u0435\u0442\xbb, \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0439\u0442\u0435 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435, \u043d\u0430 \u0432\u0441\u044f\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439, \u0431\u043b\u043e\u043a \u0432\u044b\u0448\u0435, \u0433\u0434\u0435 \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442 ",(0,u.kt)("inlineCode",{parentName:"p"},"session"),". \u041a\u043e\u0434 \u043a\u0430\u0436\u0434\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u0431\u0443\u0434\u0435\u0442 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e, \u0447\u0442\u043e \u043d\u0435 \u0443\u0441\u043f\u0435\u043b \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0432 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u0440\u0430\u0437."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u043c \u0440\u0435\u0439\u0442\u0438\u0433\u0430\u043c"',showLineNumbers:!0,title:'"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,"\u043f\u043e":!0,"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u043c":!0,'\u0440\u0435\u0439\u0442\u0438\u0433\u0430\u043c"':!0},"subject_data_folder = 'data/downloads/bgu_by_subjects'\nsubject_url_prefix = 'https://www.usnews.com/education/best-global-universities'\n\nfor i, s in enumerate(subjects):\n    subject_value = s['value']\n    subject_dir = f\"{subject_data_folder}/{subject_value.replace('-', '_')}\"\n\n    # \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043f\u0430\u043f\u043a\u0438 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u044b\u0445, \u0435\u0441\u043b\u0438 \u0438\u0445 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442\n    if not os.path.exists(subject_dir):\n        os.makedirs(subject_dir)\n\n    url_subject_tpl = f\"{subject_url_prefix}/{subject_value}?format=json&page=\"\n    first_url_subject = url_subject_tpl + '1'\n    first_resp_subject = session.get(first_url_subject)\n\n    if first_resp_subject.status_code == 200:\n        first_json_subject = first_resp_subject.json()\n        total_pages_subject = first_json_subject['total_pages']\n\n        with open(f\"{subject_dir}/1.json\", 'w') as f:\n            f.write(json.dumps(first_resp_subject.json()['items'], ensure_ascii=False, indent=4))\n\n        for page_number in range(2, total_pages_subject + 1):\n            subject_page_file_data = f\"{subject_dir}/{page_number}.json\"\n\n            if os.path.isfile(subject_page_file_data):\n                continue\n\n            url_subject = url_subject_tpl + str(page_number)\n            resp_subject = session.get(url_subject)\n\n            if resp_subject.status_code == 200:\n                with open(subject_page_file_data, 'w') as f:\n                    f.write(json.dumps(resp_subject.json()['items'], ensure_ascii=False, indent=4))\n            else:\n                print(f\"{url_subject} return status code {resp_subject.status_code}\")\n\n            # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n            time.sleep(1)\n    else:\n        print(f\"{first_url_subject} return status code {first_resp_subject.status_code}\")\n")),(0,u.kt)("p",null,"\u0421\u043e\u0431\u0435\u0440\u0451\u043c \u0432\u0441\u0451 \u0432 \u043a\u0443\u0447\u043a\u0443 \u0438\u0437 \u0441\u043a\u0430\u0447\u0430\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u044b"',showLineNumbers:!0,title:'"\u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c',"\u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435":!0,'\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u044b"':!0},"df_by_subject = pd.DataFrame()\n\nfor s in subjects:\n    subject_value = s['value']\n    subject_dir = f\"{subject_data_folder}/{subject_value.replace('-', '_')}\"\n    bgu_files_numbers_in_subject = list(sorted([int(x.replace('.json', '')) for x in os.listdir(subject_dir)]))\n\n    for n in bgu_files_numbers_in_subject:\n        file_path = f\"{subject_dir}/{n}.json\"\n        json_data = json.load(open(file_path, 'r'))\n        chunk = pd.json_normalize(json_data)\n\n        for i, r in chunk.iterrows():\n            for rank_idx, rank in enumerate(r['ranks']):\n                rank_value = rank['value']\n                chunk.loc[i, f'rank-{rank_idx + 1}.value'] = np.NaN if rank_value == 'Unranked' else int(rank_value.replace(',', ''))\n                chunk.loc[i, f'rank-{rank_idx + 1}.is_tied'] = rank['is_tied']\n                chunk.loc[i, f'rank-{rank_idx + 1}.is_ranked'] = rank['is_ranked']\n                chunk.loc[i, f'rank-{rank_idx + 1}.label'] = rank['label']\n\n        df_by_subject = pd.concat([df_by_subject, chunk], ignore_index=True)\n\ndf_by_subject.to_csv('data/best_global_universities_subject.csv', index=False)\ndf_by_subject.to_excel('data/best_global_universities_subject.xlsx', index=False)\ndf_by_subject.head()\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"url"),(0,u.kt)("th",null,"id"),(0,u.kt)("th",null,"name"),(0,u.kt)("th",null,"city"),(0,u.kt)("th",null,"country_name"),(0,u.kt)("th",null,"three_digit_country_code"),(0,u.kt)("th",null,"ranks"),(0,u.kt)("th",null,"stats"),(0,u.kt)("th",null,"blurb"),(0,u.kt)("th",null,"image_url.src"),(0,u.kt)("th",null,"image_url.medium"),(0,u.kt)("th",null,"image_url.large"),(0,u.kt)("th",null,"rank-1.value"),(0,u.kt)("th",null,"rank-1.is_tied"),(0,u.kt)("th",null,"rank-1.is_ranked"),(0,u.kt)("th",null,"rank-1.label"),(0,u.kt)("th",null,"rank-2.value"),(0,u.kt)("th",null,"rank-2.is_tied"),(0,u.kt)("th",null,"rank-2.is_ranked"),(0,u.kt)("th",null,"rank-2.label"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"501112"),(0,u.kt)("td",null,"Wageningen University & Research"),(0,u.kt)("td",null,"Wageningen"),(0,u.kt)("td",null,"Netherlands"),(0,u.kt)("td",null,"NLD"),(0,u.kt)("td",null,"[{'value': '1', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '100.0', 'label': 'Subject Score'},..."),(0,u.kt)("td",null),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"1.0"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Universities for Agricultural Sciences"),(0,u.kt)("td",null,"89.0"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Global Universities")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"500688"),(0,u.kt)("td",null,"China Agricultural University"),(0,u.kt)("td",null,"Beijing"),(0,u.kt)("td",null,"China"),(0,u.kt)("td",null,"CHN"),(0,u.kt)("td",null,"[{'value': '2', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '96.3', 'label': 'Subject Score'}, ..."),(0,u.kt)("td",null),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"2.0"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Universities for Agricultural Sciences"),(0,u.kt)("td",null,"332.0"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Global Universities")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"504800"),(0,u.kt)("td",null,"Jiangnan University"),(0,u.kt)("td",null,"Wuxi"),(0,u.kt)("td",null,"China"),(0,u.kt)("td",null,"CHN"),(0,u.kt)("td",null,"[{'value': '3', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '93.9', 'label': 'Subject Score'}, ..."),(0,u.kt)("td",null),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"3.0"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Universities for Agricultural Sciences"),(0,u.kt)("td",null,"598.0"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Global Universities")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"505115"),(0,u.kt)("td",null,"South China University of Technology"),(0,u.kt)("td",null,"Guangzhou"),(0,u.kt)("td",null,"China"),(0,u.kt)("td",null,"CHN"),(0,u.kt)("td",null,"[{'value': '4', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '91.7', 'label': 'Subject Score'}, ..."),(0,u.kt)("td",null),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"4.0"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Universities for Agricultural Sciences"),(0,u.kt)("td",null,"219.0"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Global Universities")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"https://www.usnews.com/education/best-global-u..."),(0,u.kt)("td",null,"166629"),(0,u.kt)("td",null,"University of Massachusetts Amherst"),(0,u.kt)("td",null,"Amherst"),(0,u.kt)("td",null,"United States"),(0,u.kt)("td",null,"USA"),(0,u.kt)("td",null,"[{'value': '5', 'is_tied': False, 'is_ranked':..."),(0,u.kt)("td",null,"[{'value': '88.3', 'label': 'Subject Score'}, ..."),(0,u.kt)("td",null),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"5.0"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Universities for Agricultural Sciences"),(0,u.kt)("td",null,"160.0"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"True"),(0,u.kt)("td",null,"Best Global Universities"))))),(0,u.kt)("p",null,"\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0422\u041e\u041f 10 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u0432 \u043f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \ud83c\uddf7\ud83c\uddfa \u0420\u043e\u0441\u0441\u0438\u044f."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u043c \u0440\u0435\u0439\u0442\u0438\u0433\u0430\u043c"',showLineNumbers:!0,title:'"\u0412\u044b\u0432\u043e\u0434\u0438\u043c',"\u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443":!0,"\u043f\u043e":!0,"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u043c":!0,'\u0440\u0435\u0439\u0442\u0438\u0433\u0430\u043c"':!0},"df_by_subject[df_by_subject['three_digit_country_code'] == 'RUS'][['rank-1.label', 'id']].\\\n    groupby(by='rank-1.label').count().rename(columns={'id': 'count'}).\\\n    sort_values(by='count', ascending=False).head(10)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"count")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"rank-1.label"),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Physics"),(0,u.kt)("td",null,"20")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Chemistry"),(0,u.kt)("td",null,"17")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Materials Science"),(0,u.kt)("td",null,"14")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Engineering"),(0,u.kt)("td",null,"9")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Physical Chemistry"),(0,u.kt)("td",null,"9")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Optics"),(0,u.kt)("td",null,"8")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Mathematics"),(0,u.kt)("td",null,"7")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Condensed Matter Physics"),(0,u.kt)("td",null,"6")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Geosciences"),(0,u.kt)("td",null,"5")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Best Universities for Computer Science"),(0,u.kt)("td",null,"4"))))),(0,u.kt)("h2",{id:"times-higher-education"},"Times Higher Education"),(0,u.kt)("h3",{id:"\u043e\u0431\u0449\u0438\u0439-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-2"},"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"',showLineNumbers:!0,title:'"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435','\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"':!0},"import re\nimport time\nimport requests\nimport pandas as pd\nfrom bs4 import BeautifulSoup\n")),(0,u.kt)("p",null,"\u0414\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u044d\u0442\u043e\u0433\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0442\u043e\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u043e\u0431\u044a\u0435\u043a\u0442 ",(0,u.kt)("inlineCode",{parentName:"p"},"session"),"."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0441\u0435\u0441\u0441\u0438\u044e \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0441\u0430\u0439\u0442\u043e\u043c"',showLineNumbers:!0,title:'"\u0421\u043e\u0437\u0434\u0430\u0451\u043c',"\u0441\u0435\u0441\u0441\u0438\u044e":!0,"\u0434\u043b\u044f":!0,"\u0440\u0430\u0431\u043e\u0442\u044b":!0,"\u0441":!0,'\u0441\u0430\u0439\u0442\u043e\u043c"':!0},"session = requests.session()\nsession.headers.update({\n    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n    'accept-encoding': 'gzip, deflate, br',\n    'accept-language': 'ru',\n    'cache-control': 'no-cache',\n    'pragma': 'no-cache',\n    'sec-ch-ua': '\".Not/A)Brand\";v=\"99\", \"Google Chrome\";v=\"103\", \"Chromium\";v=\"103\"',\n    'sec-ch-ua-mobile': '?0',\n    'sec-ch-ua-platform': '\"Linux\"',\n    'sec-fetch-dest': 'document',\n    'sec-fetch-mode': 'navigate',\n    'sec-fetch-site': 'none',\n    'sec-fetch-user': '?1',\n    'upgrade-insecure-requests': '1',\n    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36'\n})\nyears = range(2020, 2024 + 1)\n")),(0,u.kt)("p",null,"\u0414\u0430\u043b\u044c\u0448\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0433\u043e\u0434\u0430\u043c."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0421\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0433\u043e\u0434\u0430\u043c"',showLineNumbers:!0,title:'"\u0421\u043e\u0431\u0438\u0440\u0430\u0435\u043c',"\u0434\u0430\u043d\u043d\u044b\u0435":!0,"\u043f\u043e":!0,'\u0433\u043e\u0434\u0430\u043c"':!0},"url_tpl = 'https://www.timeshighereducation.com/world-university-rankings/{year}/world-ranking'\nranking = pd.DataFrame(columns=['year'])\n\nfor year in years:\n    html_url = url_tpl.format(year=year)\n    html_resp = session.get(html_url)\n\n    if html_resp.status_code == 200:\n        html = html_resp.text\n        soup = BeautifulSoup(html)\n        scripts = soup.find_all('script')\n        search_words = 'init_drupal_core_settings'\n        drupal_settings_str = None\n\n        for script in scripts:\n            script_text = script.text\n\n            if script_text.find(search_words) > -1:\n                drupal_settings_str = script_text\n\n        if drupal_settings_str:\n            found = re.search(f\"world_university_rankings_{year}_0__[\\w\\d]+\\.json\", drupal_settings_str)\n\n            if found:\n                data_url = f'https://www.timeshighereducation.com/sites/default/files/the_data_rankings/{found[0]}'\n                data_resp = session.get(data_url)\n\n                if data_resp.status_code == 200:\n                    data = data_resp.json()\n                    chunk = pd.json_normalize(data['data'])\n                    chunk['year'] = year\n                    ranking = pd.concat([ranking, chunk], ignore_index=True)\n                else:\n                    print(f\"{data_url} return status code {data_resp.status_code}\")\n    else:\n        print(f\"{html_url} return status code {html_resp.status_code}\")\n\n    # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n    time.sleep(0.5)\n\nranking.to_csv(f\"data/the_{min(years)}-{max(years)}.csv\", index=False)\nranking.to_excel(f\"data/the_{min(years)}-{max(years)}.xlsx\", index=False)\nranking.head()\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"year"),(0,u.kt)("th",null,"rank_order"),(0,u.kt)("th",null,"rank"),(0,u.kt)("th",null,"name"),(0,u.kt)("th",null,"scores_overall"),(0,u.kt)("th",null,"scores_overall_rank"),(0,u.kt)("th",null,"scores_teaching"),(0,u.kt)("th",null,"scores_teaching_rank"),(0,u.kt)("th",null,"scores_research"),(0,u.kt)("th",null,"scores_research_rank"),(0,u.kt)("th",null,"..."),(0,u.kt)("th",null,"stats_pc_intl_students"),(0,u.kt)("th",null,"stats_female_male_ratio"),(0,u.kt)("th",null,"aliases"),(0,u.kt)("th",null,"subjects_offered"),(0,u.kt)("th",null,"closed"),(0,u.kt)("th",null,"unaccredited"),(0,u.kt)("th",null,"disabled"),(0,u.kt)("th",null,"apply_link"),(0,u.kt)("th",null,"cta_button.link"),(0,u.kt)("th",null,"cta_button.text"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"10"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"University of Oxford"),(0,u.kt)("td",null,"95.4"),(0,u.kt)("td",null,"10"),(0,u.kt)("td",null,"90.5"),(0,u.kt)("td",null,"6"),(0,u.kt)("td",null,"99.6"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"41%"),(0,u.kt)("td",null,"46 : 54"),(0,u.kt)("td",null,"University of Oxford"),(0,u.kt)("td",null,"Accounting & Finance,General Engineering,Commu..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"20"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"California Institute of Technology"),(0,u.kt)("td",null,"94.5"),(0,u.kt)("td",null,"20"),(0,u.kt)("td",null,"92.1"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"97.2"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"30%"),(0,u.kt)("td",null,"34 : 66"),(0,u.kt)("td",null,"California Institute of Technology caltech"),(0,u.kt)("td",null,"Languages, Literature & Linguistics,Economics ..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"30"),(0,u.kt)("td",null,"3"),(0,u.kt)("td",null,"University of Cambridge"),(0,u.kt)("td",null,"94.4"),(0,u.kt)("td",null,"30"),(0,u.kt)("td",null,"91.4"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"98.7"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"37%"),(0,u.kt)("td",null,"47 : 53"),(0,u.kt)("td",null,"University of Cambridge"),(0,u.kt)("td",null,"Business & Management,General Engineering,Art,..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"40"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"Stanford University"),(0,u.kt)("td",null,"94.3"),(0,u.kt)("td",null,"40"),(0,u.kt)("td",null,"92.8"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"96.4"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"23%"),(0,u.kt)("td",null,"43 : 57"),(0,u.kt)("td",null,"Stanford University"),(0,u.kt)("td",null,"Physics & Astronomy,Computer Science,Politics ..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"NaN"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"50"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"Massachusetts Institute of Technology"),(0,u.kt)("td",null,"93.6"),(0,u.kt)("td",null,"50"),(0,u.kt)("td",null,"90.5"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"92.4"),(0,u.kt)("td",null,"10"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"34%"),(0,u.kt)("td",null,"39 : 61"),(0,u.kt)("td",null,"Massachusetts Institute of Technology"),(0,u.kt)("td",null,"Mathematics & Statistics,Languages, Literature..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support")))),(0,u.kt)("p",null,"5 rows \xd7 33 columns")),(0,u.kt)("p",null,"\u0418\u0437 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043e\u0431\u0435\u0440\u0451\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \ud83c\uddf7\ud83c\uddfa \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435 \u043f\u043e \u0433\u043e\u0434\u0430\u043c."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"',showLineNumbers:!0,title:'"\u0412\u044b\u0432\u043e\u0434\u0438\u043c',"\u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443":!0,"\u043f\u043e":!0,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443":!0,'\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"':!0},"ranking[ranking['location'] == 'Russian Federation'][['year', 'location']].\\\n    groupby(by='year').count().rename(columns={'location': 'count'})\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"count")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"year"),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"2020"),(0,u.kt)("td",null,"39")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2021"),(0,u.kt)("td",null,"48")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2022"),(0,u.kt)("td",null,"100")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2023"),(0,u.kt)("td",null,"103")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2024"),(0,u.kt)("td",null,"108"))))),(0,u.kt)("h3",{id:"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435-1"},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0435"),(0,u.kt)("p",null,"\u041a\u043e\u0434 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u0435\u043d \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443, \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u0445\u043e\u0434 \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0443 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"',showLineNumbers:!0,title:'"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0439','\u0440\u0435\u0439\u0442\u0438\u043d\u0433"':!0},"url_subject_tpl = 'https://www.timeshighereducation.com/world-university-rankings/{year}/subject-ranking/{subject}'\nranking_subject = pd.DataFrame(columns=['year', 'subject'])\nsubject_map = [\n    {'title': 'Arts & humanities', 'url_suffix': 'arts-and-humanities', 'file_prefix': 'arts_humanities_rankings'},\n    {'title': 'Business & economics', 'url_suffix': 'business-and-economics', 'file_prefix': 'business_economics_rankings'},\n    {'title': 'Clinical & health', 'url_suffix': 'clinical-pre-clinical-health', 'file_prefix': 'clinical_pre_clinical_health_ran'},\n    {'title': 'Computer science', 'url_suffix': 'computer-science', 'file_prefix': 'computer_science_rankings'},\n    {'title': 'Education', 'url_suffix': 'education', 'file_prefix': 'education_rankings'},\n    {'title': 'Engineering', 'url_suffix': 'engineering-and-it', 'file_prefix': 'engineering_technology_rankings'},\n    {'title': 'Law', 'url_suffix': 'law', 'file_prefix': 'law_rankings'},\n    {'title': 'Life sciences', 'url_suffix': 'life-sciences', 'file_prefix': 'life_sciences_rankings'},\n    {'title': 'Physical sciences', 'url_suffix': 'physical-sciences', 'file_prefix': 'physical_sciences_rankings'},\n    {'title': 'Psychology', 'url_suffix': 'psychology', 'file_prefix': 'psychology_rankings'},\n    {'title': 'Social sciences', 'url_suffix': 'social-sciences', 'file_prefix': 'social_sciences_rankings'}\n]\n\nfor year in years:\n    for subject in subject_map:\n        html_url = url_subject_tpl.format(year=year, subject=subject['url_suffix'])\n        html_resp = session.get(html_url)\n\n        if html_resp.status_code == 200:\n            html = html_resp.text\n            soup = BeautifulSoup(html)\n            scripts = soup.find_all('script')\n            search_words = 'init_drupal_core_settings'\n            drupal_settings_str = None\n\n            for script in scripts:\n                script_text = script.text\n\n                if script_text.find(search_words) > -1:\n                    drupal_settings_str = script_text\n\n            if drupal_settings_str:\n                found = re.search(f\"{subject['file_prefix']}_{year}_0__[\\w\\d]+\\.json\", drupal_settings_str)\n\n                if found:\n                    data_url = f'https://www.timeshighereducation.com/sites/default/files/the_data_rankings/{found[0]}'\n                    data_resp = session.get(data_url)\n\n                    if data_resp.status_code == 200:\n                        data = data_resp.json()\n                        chunk = pd.json_normalize(data['data'])\n                        chunk[['year', 'subject']] = year, subject['title']\n                        ranking_subject = pd.concat([ranking_subject, chunk], ignore_index=True)\n                    else:\n                        print(f\"{data_url} return status code {data_resp.status_code}\")\n        else:\n            print(f\"{html_url} return status code {html_resp.status_code}\")\n\n        # \u0411\u0435\u0440\u0435\u0436\u0451\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445\n        time.sleep(0.5)\n\nranking_subject.to_csv(f\"data/the_{min(years)}-{max(years)}_subject.csv\", index=False)\nranking_subject.to_excel(f\"data/the_{min(years)}-{max(years)}_subject.xlsx\", index=False)\nranking_subject.head()\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null),(0,u.kt)("th",null,"year"),(0,u.kt)("th",null,"subject"),(0,u.kt)("th",null,"rank_order"),(0,u.kt)("th",null,"rank"),(0,u.kt)("th",null,"name"),(0,u.kt)("th",null,"scores_overall"),(0,u.kt)("th",null,"scores_overall_rank"),(0,u.kt)("th",null,"scores_citations"),(0,u.kt)("th",null,"scores_citations_rank"),(0,u.kt)("th",null,"scores_industry_income"),(0,u.kt)("th",null,"..."),(0,u.kt)("th",null,"stats_pc_intl_students"),(0,u.kt)("th",null,"stats_female_male_ratio"),(0,u.kt)("th",null,"aliases"),(0,u.kt)("th",null,"subjects_offered"),(0,u.kt)("th",null,"closed"),(0,u.kt)("th",null,"unaccredited"),(0,u.kt)("th",null,"disabled"),(0,u.kt)("th",null,"cta_button.link"),(0,u.kt)("th",null,"cta_button.text"),(0,u.kt)("th",null,"apply_link"))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"0"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"Arts & humanities"),(0,u.kt)("td",null,"10"),(0,u.kt)("td",null,"1"),(0,u.kt)("td",null,"Stanford University"),(0,u.kt)("td",null,"89.9"),(0,u.kt)("td",null,"10"),(0,u.kt)("td",null,"80.9"),(0,u.kt)("td",null,"6"),(0,u.kt)("td",null,"72.4"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"23%"),(0,u.kt)("td",null,"43 : 57"),(0,u.kt)("td",null,"Stanford University"),(0,u.kt)("td",null,"History, Philosophy & Theology,Art, Performing..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support"),(0,u.kt)("td",null,"NaN")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"1"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"Arts & humanities"),(0,u.kt)("td",null,"20"),(0,u.kt)("td",null,"2"),(0,u.kt)("td",null,"University of Cambridge"),(0,u.kt)("td",null,"86.7"),(0,u.kt)("td",null,"20"),(0,u.kt)("td",null,"62.8"),(0,u.kt)("td",null,"144"),(0,u.kt)("td",null,"58.8"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"37%"),(0,u.kt)("td",null,"47 : 53"),(0,u.kt)("td",null,"University of Cambridge"),(0,u.kt)("td",null,"History, Philosophy & Theology,Architecture,Ar..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r...")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"2"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"Arts & humanities"),(0,u.kt)("td",null,"30"),(0,u.kt)("td",null,"3"),(0,u.kt)("td",null,"University of Oxford"),(0,u.kt)("td",null,"86.4"),(0,u.kt)("td",null,"30"),(0,u.kt)("td",null,"68.1"),(0,u.kt)("td",null,"85"),(0,u.kt)("td",null,"35.2"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"41%"),(0,u.kt)("td",null,"46 : 54"),(0,u.kt)("td",null,"University of Oxford"),(0,u.kt)("td",null,"Art, Performing Arts & Design,History, Philoso..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r...")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"3"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"Arts & humanities"),(0,u.kt)("td",null,"40"),(0,u.kt)("td",null,"4"),(0,u.kt)("td",null,"Massachusetts Institute of Technology"),(0,u.kt)("td",null,"85.8"),(0,u.kt)("td",null,"40"),(0,u.kt)("td",null,"76.3"),(0,u.kt)("td",null,"18"),(0,u.kt)("td",null,"56.5"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"34%"),(0,u.kt)("td",null,"39 : 61"),(0,u.kt)("td",null,"Massachusetts Institute of Technology"),(0,u.kt)("td",null,"Architecture,Archaeology,Languages, Literature..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r...")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"4"),(0,u.kt)("td",null,"2020"),(0,u.kt)("td",null,"Arts & humanities"),(0,u.kt)("td",null,"50"),(0,u.kt)("td",null,"5"),(0,u.kt)("td",null,"Harvard University"),(0,u.kt)("td",null,"84.3"),(0,u.kt)("td",null,"50"),(0,u.kt)("td",null,"68.3"),(0,u.kt)("td",null,"84"),(0,u.kt)("td",null,"36.0"),(0,u.kt)("td",null,"..."),(0,u.kt)("td",null,"24%"),(0,u.kt)("td",null,"49 : 51"),(0,u.kt)("td",null,"Harvard University"),(0,u.kt)("td",null,"Architecture,History, Philosophy & Theology,La..."),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"False"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."),(0,u.kt)("td",null,"Admissions Support"),(0,u.kt)("td",null,"https://www.timeshighereducation.com/student/r..."))))),(0,u.kt)("p",null,"\u0414\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0434\u0438\u043d\u0430\u043c\u0438\u043a\u0443 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u0442\u0440\u0430\u043d \u0432 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\u0445."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0432 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0445 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\u0445 \u043f\u043e \u0441\u0442\u0440\u0430\u043d\u0430\u043c"',showLineNumbers:!0,title:'"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e',"\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432":!0,"\u0432":!0,"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0445":!0,"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430\u0445":!0,"\u043f\u043e":!0,'\u0441\u0442\u0440\u0430\u043d\u0430\u043c"':!0},"pd.pivot_table(\n    ranking_subject[ranking_subject['location'].isin([\n        'Russian Federation', 'China',\n        'India', 'Germany', 'Turkey',\n        'United Kingdom', 'United States',\n        'France', 'Brazil', 'Iran', \n        'Indonesia', 'Pakistan', 'Japan',\n        'Thailand', 'Italy'\n    ])],\n    index='location',\n    columns='year',\n    values='name',\n    aggfunc='count'\n).sort_values(by=[2024], ascending=False)\n")),(0,u.kt)("div",null,(0,u.kt)("table",{class:"dataframe"},(0,u.kt)("thead",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"year"),(0,u.kt)("th",null,"2020"),(0,u.kt)("th",null,"2021"),(0,u.kt)("th",null,"2022"),(0,u.kt)("th",null,"2023"),(0,u.kt)("th",null,"2024")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"location"),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null),(0,u.kt)("th",null))),(0,u.kt)("tbody",null,(0,u.kt)("tr",null,(0,u.kt)("th",null,"United States"),(0,u.kt)("td",null,"1385"),(0,u.kt)("td",null,"1470"),(0,u.kt)("td",null,"1499"),(0,u.kt)("td",null,"1495"),(0,u.kt)("td",null,"1447")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"United Kingdom"),(0,u.kt)("td",null,"695"),(0,u.kt)("td",null,"737"),(0,u.kt)("td",null,"757"),(0,u.kt)("td",null,"785"),(0,u.kt)("td",null,"793")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"China"),(0,u.kt)("td",null,"396"),(0,u.kt)("td",null,"468"),(0,u.kt)("td",null,"513"),(0,u.kt)("td",null,"528"),(0,u.kt)("td",null,"499")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Japan"),(0,u.kt)("td",null,"322"),(0,u.kt)("td",null,"331"),(0,u.kt)("td",null,"351"),(0,u.kt)("td",null,"347"),(0,u.kt)("td",null,"360")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Italy"),(0,u.kt)("td",null,"271"),(0,u.kt)("td",null,"288"),(0,u.kt)("td",null,"319"),(0,u.kt)("td",null,"336"),(0,u.kt)("td",null,"352")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Brazil"),(0,u.kt)("td",null,"243"),(0,u.kt)("td",null,"287"),(0,u.kt)("td",null,"307"),(0,u.kt)("td",null,"341"),(0,u.kt)("td",null,"332")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Germany"),(0,u.kt)("td",null,"284"),(0,u.kt)("td",null,"286"),(0,u.kt)("td",null,"310"),(0,u.kt)("td",null,"320"),(0,u.kt)("td",null,"320")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Turkey"),(0,u.kt)("td",null,"122"),(0,u.kt)("td",null,"145"),(0,u.kt)("td",null,"181"),(0,u.kt)("td",null,"216"),(0,u.kt)("td",null,"271")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"India"),(0,u.kt)("td",null,"153"),(0,u.kt)("td",null,"172"),(0,u.kt)("td",null,"195"),(0,u.kt)("td",null,"221"),(0,u.kt)("td",null,"270")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"France"),(0,u.kt)("td",null,"219"),(0,u.kt)("td",null,"235"),(0,u.kt)("td",null,"231"),(0,u.kt)("td",null,"228"),(0,u.kt)("td",null,"243")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Russian Federation"),(0,u.kt)("td",null,"130"),(0,u.kt)("td",null,"166"),(0,u.kt)("td",null,"196"),(0,u.kt)("td",null,"230"),(0,u.kt)("td",null,"241")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Iran"),(0,u.kt)("td",null,"107"),(0,u.kt)("td",null,"128"),(0,u.kt)("td",null,"146"),(0,u.kt)("td",null,"167"),(0,u.kt)("td",null,"185")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Pakistan"),(0,u.kt)("td",null,"36"),(0,u.kt)("td",null,"50"),(0,u.kt)("td",null,"65"),(0,u.kt)("td",null,"89"),(0,u.kt)("td",null,"120")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Indonesia"),(0,u.kt)("td",null,"23"),(0,u.kt)("td",null,"40"),(0,u.kt)("td",null,"62"),(0,u.kt)("td",null,"79"),(0,u.kt)("td",null,"106")),(0,u.kt)("tr",null,(0,u.kt)("th",null,"Thailand"),(0,u.kt)("td",null,"58"),(0,u.kt)("td",null,"65"),(0,u.kt)("td",null,"74"),(0,u.kt)("td",null,"85"),(0,u.kt)("td",null,"97"))))),(0,u.kt)("h2",{id:"qs-\u0440\u0435\u0439\u0442\u0438\u043d\u0433-\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"},"QS-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432"),(0,u.kt)("admonition",{title:"\u0421\u0430\u0439\u0442 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",type:"warning"},(0,u.kt)("p",{parentName:"admonition"},"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u0430\u0439\u0442\u0443 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d \u043f\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044e \u041f\u0443\u0447\u0435\u0436\u0441\u043a\u043e\u0433\u043e \u0440\u0430\u0439\u043e\u043d\u043d\u043e\u0433\u043e \u0441\u0443\u0434\u0430 (\u0418\u0432\u0430\u043d\u043e\u0432\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438) ",(0,u.kt)("a",{parentName:"p",href:"https://puchezhsky--iwn.sudrf.ru/modules.php?name=sud_delo&srv_num=1&name_op=case&case_id=86330472&case_uid=3e312afb-7355-4c11-8db4-c4f035377b3d&delo_id=41&new=0"},"\u2116 2\u0430-62/2023 \u043e\u0442 19.01.2023"),". \u0421 \u0443\u0447\u0451\u0442\u043e\u043c \u044d\u0442\u043e\u0433\u043e, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0432 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0438 \ud83c\uddf7\ud83c\uddfa \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0445 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430, \u043d\u0438\u0436\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 ",(0,u.kt)("strong",{parentName:"p"},"\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0435\u0442\u0441\u044f \u0431\u0435\u0437 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"),".")),(0,u.kt)("p",null,"\u041f\u043e \u043a\u0430\u043a\u0438\u043c-\u0442\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0441\u0443\u0434\u0430 ",(0,u.kt)("inlineCode",{parentName:"p"},"<\u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u044a\u044f\u0442\u044b>")," \u0438 \u043d\u0435 \u0432\u0438\u0434\u043d\u043e \u0434\u043e\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u043c\u0435\u043d\u0438, \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u0430 ",(0,u.kt)("a",{parentName:"p",href:"https://eais.rkn.gov.ru/"},"\u0441\u0441\u044b\u043b\u043a\u0430")," \u043d\u0430 \u0440\u0435\u0435\u0441\u0442\u0440 \u0420\u043e\u0441\u043a\u043e\u043c\u043d\u0430\u0434\u0437\u043e\u0440\u0430. \u0412 \u043f\u043e\u043b\u0435 \xab\u0418\u0441\u043a\u043e\u043c\u044b\u0439 \u0440\u0435\u0441\u0443\u0440\u0441\xbb \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u2014 ",(0,u.kt)("inlineCode",{parentName:"p"},"www.topuniversities.com"),"."),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"',showLineNumbers:!0,title:'"\u041e\u0431\u0449\u0438\u0439','\u0440\u0435\u0439\u0442\u0438\u043d\u0433"':!0},"import json\nimport requests\nimport pandas as pd\nfrom bs4 import BeautifulSoup\n\nyear = 2022\npage_url = f'https://www.topuniversities.com/university-rankings/world-university-rankings/{year}'\npage_resp = requests.get(page_url)\n\nif page_resp.status_code == 200:\n    page_html = page_resp.text\n    page_soup = BeautifulSoup(page_html)\n    drupal_settings = page_soup.find('script', attrs={'data-drupal-selector': 'drupal-settings-json'}).text\n    drupal_settings_json = json.loads(drupal_settings)\n    nid = drupal_settings_json['statistics']['data']['nid']\n    rank_resp = requests.get(f\"https://www.topuniversities.com/rankings/endpoint?nid={nid}&page=0&items_per_page=2000\")\n\n    if rank_resp.status_code == 200:\n        rank_json = rank_resp.json()\n        df = pd.json_normalize(rank_json['score_nodes'])\n")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-python",metastring:'showLineNumbers title="\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"',showLineNumbers:!0,title:'"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0439','\u0440\u0435\u0439\u0442\u0438\u043d\u0433"':!0},"import json\nimport time\nimport requests\nimport pandas as pd\nfrom bs4 import BeautifulSoup\n\n# \u0421\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432\n\nyear = 2022\nfirst_url = f\"https://www.topuniversities.com/university-rankings/university-subject-rankings/{year}/natural-sciences\"\nfirst_resp = requests.get(first_url)\nsubjects = []\n\nif first_resp.status_code == 200:\n    first_html = first_resp.text\n    first_soup = BeautifulSoup(first_html)\n    drupal_settings = first_soup.find('script', attrs={'data-drupal-selector': 'drupal-settings-json'}).text\n    drupal_settings_json = json.loads(drupal_settings)\n    first_nid = drupal_settings_json['qs_rankings_rest_api']['nid']\n    subject_url = f\"https://www.topuniversities.com/rankings/filter/endpoint?nid={first_nid}\"\n    subject_resp = requests.get(subject_url)\n\n    if subject_resp.status_code == 200:\n        subject_json = subject_resp.json()\n\n        for c, subjects_list in subject_json['subjects'].items():\n            for s in subjects_list:\n                subjects.append({'category': c, 'name': s['name'], 'url': s['url']})\n    else:\n        print(f\"{subject_resp} return status code {subject_resp.status_code}\")\nelse:\n    print(f\"{first_url} return status code {first_resp.status_code}\")\n\n# \u0417\u0430\u0431\u0438\u0440\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c\n\nranking = pd.DataFrame(columns=['subject_category', 'subject'])\n\nfor i, s in enumerate(subjects):\n    url = f\"https://www.topuniversities.com/{s['url']}\"\n    resp = requests.get(url)\n\n    if resp.status_code == 200:\n        html = resp.text\n        soup = BeautifulSoup(html)\n        drupal_settings = soup.find('script', attrs={'data-drupal-selector': 'drupal-settings-json'}).text\n        drupal_settings_json = json.loads(drupal_settings)\n        nid = drupal_settings_json['qs_rankings_rest_api']['nid']\n        url_subject = f\"https://www.topuniversities.com/rankings/endpoint?nid={nid}&items_per_page=10000&tab=?&page=0\"\n        resp_subject = requests.get(url_subject)\n\n        if resp_subject.status_code == 200:\n            json_subject = resp_subject.json()\n            chunk_subject = pd.json_normalize(json_subject['score_nodes'])\n            chunk_subject['subject_category'] = s['category']\n            chunk_subject['subject'] = s['name']\n            ranking = pd.concat([ranking, chunk_subject], ignore_index=True)\n        else:\n            print(f\"{url_subject} return status code {resp_subject.status_code}\")\n    else:\n        print(f\"{url} return status code {resp.status_code}\")\n\n    print(f\"{i}/{len(subjects)}: {s['name']} is done!\", end='\\r')\n    time.sleep(1)\n")),(0,u.kt)("h2",{id:"\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438-\u0438-\u0434\u0430\u043d\u043d\u044b\u0435"},"\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438 \u0438 \u0434\u0430\u043d\u043d\u044b\u0435"),(0,u.kt)("p",null,"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 Jupiter Notebook-\u0438 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043f\u0430\u043f\u043a\u0435 \u043f\u043e ",(0,u.kt)("a",{parentName:"p",href:"https://github.com/psalru/analytics/tree/master/PSAL-21_rating_parsing"},"\u0441\u0441\u044b\u043b\u043a\u0435")," \u0432 Github."),(0,u.kt)("p",null,"\u041f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435\u0441\u044f ",(0,u.kt)("strong",{parentName:"p"},"\u043d\u0430\u0431\u043e\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445"),", \u043d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0430\u043c \u043d\u0438\u0436\u0435:"),(0,u.kt)("ol",null,(0,u.kt)("li",{parentName:"ol"},"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u2014 \u0442\u0440\u0438 \u043c\u0438\u0441\u0441\u0438\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/msk_2020-2022.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/msk_2020-2022.xlsx"},"xlsx")),(0,u.kt)("li",{parentName:"ol"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0418\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/interfax_2020-2023.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/interfax_2020-2023.xlsx"},"xlsx")),(0,u.kt)("li",{parentName:"ol"},"RAEX \u0422\u041e\u041f 100: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/raex_2020-2023.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/raex_2020-2023.xlsx"},"xlsx")),(0,u.kt)("li",{parentName:"ol"},"\u0428\u0430\u043d\u0445\u0430\u0439\u0441\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432:",(0,u.kt)("ul",{parentName:"li"},(0,u.kt)("li",{parentName:"ul"},"\u041e\u0431\u0449\u0438\u0439: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/shanghai.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/shanghai.xlsx"},"xlsx")),(0,u.kt)("li",{parentName:"ul"},"\u041e\u0431\u0449\u0438\u0439 \u0441 \u0440\u0435\u0442\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u043e\u0439: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/shanghai_retro_2020-2022.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/shanghai_retro_2020-2022.xlsx"},"xlsx")),(0,u.kt)("li",{parentName:"ul"},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0439 \u0440\u0435\u043a\u0442\u0438\u043d\u0433: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/shanghai_subject.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/shanghai_subject.xlsx"},"xlsx")))),(0,u.kt)("li",{parentName:"ol"},"Best Global Universities:",(0,u.kt)("ul",{parentName:"li"},(0,u.kt)("li",{parentName:"ul"},"\u041e\u0431\u0449\u0438\u0439: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/best_global_universities.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/best_global_universities.xlsx"},"xlsx")),(0,u.kt)("li",{parentName:"ul"},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0439: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/best_global_universities_subject.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/best_global_universities_subject.xlsx"},"xlsx")))),(0,u.kt)("li",{parentName:"ol"},"Times Higher Education:",(0,u.kt)("ul",{parentName:"li"},(0,u.kt)("li",{parentName:"ul"},"\u041e\u0431\u0449\u0438\u0439: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/the_2020-2024.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/the_2020-2024.xlsx"},"xlsx")),(0,u.kt)("li",{parentName:"ul"},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u044b\u0439: \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/the_2020-2024_subject.csv"},"csv"),", \u2b07\ufe0f ",(0,u.kt)("a",{parentName:"li",href:"https://storage.yandexcloud.net/psal.public/datasets/rankings/the_2020-2024_subject.xlsx"},"xlsx"))))))}c.isMDXComponent=!0}}]);